(self.webpackChunklite=self.webpackChunklite||[]).push([[10733,90478,9972],{33865:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r=52},48793:(e,t,n)=>{"use strict";n.d(t,{VC:()=>h,GT:()=>E});var r=n(28655),o=n.n(r),l=n(71439),i=n(67294),a=n(49925),c=n(27721),s=n(42933),u=n(18579),d=n(6688),m=n(14391),p=n(90038);function f(){var e=o()(["\n  fragment CollectionLogo_image on ImageMetadata {\n    id\n    originalHeight\n    originalWidth\n  }\n"]);return f=function(){return e},e}function g(){var e=o()(["\n  fragment CollectionLogo_collection on Collection {\n    ...auroraHooks_publisher\n    name\n    isAuroraVisible\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function h(e){var t=e.clamp,n=void 0===t?1:t,r=e.collection,o=e.maxWidth,l=e.maxHeight,f=e.textScale,g=void 0===f?"S":f,h=e.withTextColorSubtle,E=void 0!==h&&h,v=e.customNameColor,b=e.customLogoImage,x=e.nameTreatment,y=(0,d.I)(),S=(0,u.n)({name:"heading",scale:g,clamp:n,fontWeight:"NORMAL"}),w=function(e,t){return function(n){return{color:t||n.baseColor.text[e]}}}(E?"normal":"dark",v),P=(0,a.Iq)(r)&&void 0!==b?b:r.logo;if(!P||!P.id||x===m.m3.NAME_TREATMENT_TEXT)return i.createElement("span",{className:y([S,w])},r.name||"");var I=P.id,C=P.originalWidth||100,_=P.originalHeight||100;if(o&&C>o){var T=C/o;C=Math.floor(C/T),_=Math.floor(_/T)}if(l&&_>l){var k=_/l;C=Math.floor(C/k),_=Math.floor(_/k)}return i.createElement(s.x,{width:"".concat(C,"px"),height:"".concat(_,"px")},i.createElement(c.UV,{miroId:I,alt:r.name||"Publication logo",width:C,height:_,strategy:p._S.Resample}))}var E=(0,l.Ps)(g(),a.C5);(0,l.Ps)(f())},9972:(e,t,n)=>{"use strict";n.d(t,{NL:()=>ce,XL:()=>ae,JE:()=>se});var r=n(28655),o=n.n(r),l=n(59713),i=n.n(l),a=n(63038),c=n.n(a),s=n(71439),u=n(67294),d=n(67154),m=n.n(d),p=n(12291),f=n(48793),g=n(82318),h=n(77714),E=n(15849),v=n(83249),b=n(98701),x=n(6688),y=function(e){var t=e.fontConfig,n=e.scale,r=e.tag,o=e.children,l=e.additionalRules,i=e.clamp,a=e.leadingTrim,s=(0,x.I)(),d=r,m={fontFamily:t.family,fontWeight:t.weight},p=(0,b.mu)((function(e){var n=c()(e,1)[0];return t.lineHeight[n]}),n),f=(0,v.M)({fontConfig:t,scale:n}),g=i?(0,h.V)({clamp:i,lineHeight:p}):void 0,y=a?(0,E.KR)({fontConfig:t,scale:n}):void 0;return u.createElement(d,{className:s([m,f,g,y,l])},o)},S=n(77180),w=n(80637);function P(){var e=o()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return P=function(){return e},e}var I=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},i()(t,w.sm(e),{display:"none"}),i()(t,"marginTop","".concat(20,"px")),i()(t,"paddingTop","".concat(20,"px")),i()(t,"height","".concat(80,"px")),t},C={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},_=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function T(e){var t=e.navItems,n=e.withTextColorSubtle,r=(0,x.I)(),o=(0,S.F)();return t?u.createElement("ul",{className:r(I)},t.map((function(e,t){return e.url&&u.createElement(u.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&u.createElement("span",{className:r(_)}),u.createElement("li",{className:r(C)},u.createElement(y,{fontConfig:o.newFonts.detail,scale:"S",tag:"span",additionalRules:(l=n?"lighter":"normal",function(e){return{color:e.baseColor.text[l],textTransform:"uppercase",letterSpacing:"1px"}})},u.createElement(g.r,{href:e.url},e.title))));var l}))):null}var k=(0,s.Ps)(P()),R=n(56862),A=n(42933),O=n(75209),L=n(41996),B=n(27952),D=n(61598),M=n(534);function N(){var e=o()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var j=(0,s.Ps)(N(),k,f.GT,D.nf,M.Uv),F=(0,p.$j)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.collection,n=e.currentLocation,r=e.shouldShowCollectionLogo,o=void 0===r||r,l=e.withBorderTop,a=void 0!==l&&l,c=e.withTextColorSubtle,s=void 0!==c&&c,d=e.breakpoint,p=void 0===d?L.j.sm:d,g=t.navItems.slice().length>0;return u.createElement(A.x,m()({backgroundColor:"BACKGROUND",display:g?"block":"none",borderTop:a?"BASE_LIGHTER":"NONE"},i()({},p,{display:"block"})),u.createElement(O.P,null,u.createElement(A.x,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},o?u.createElement(A.x,{flexShrink:"0",marginRight:"40px"},u.createElement(R.e,{href:(0,B.WGd)(t,n)},u.createElement(f.VC,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:s}))):null,u.createElement(A.x,{flexShrink:"1",overflow:"auto"},u.createElement(T,{navItems:t.navItems,withTextColorSubtle:s})))))})),U=n(60046),V=n(33984),W=n(41850),H=n(6401),G=n(43689),K=n(89423),Y=n(74465);function z(){var e=o()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_publisher\n  }\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}var Q=(0,s.Ps)(z(),f.GT,D.nf,V.$R),X=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.authDomain,n=e.collection,r=e.currentLocation,o=e.isAmp,l=e.post,a=e.shouldShowCollectionLogo,c=e.withMonogramDark,s=e.setIsMetabarLocked,d=e.breakpoint,p=void 0===d?L.j.sm:d,g=e.hideOpenInAppLink,h=void 0!==g&&g;return u.createElement(A.x,{backgroundColor:"BACKGROUND"},u.createElement(O.P,null,u.createElement(A.x,m()({display:"flex",alignItems:"center",height:"".concat(G.Je,"px")},i()({},p,{display:"flex",height:"".concat(G.R2,"px")})),u.createElement(A.x,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:Y.ZP.metabar},u.createElement(R.e,{href:"https://".concat(t,"/"),ariaLabel:"Homepage"},u.createElement(U.YR,{contrast:c?"dark":"normal"})),a&&u.createElement(u.Fragment,null,u.createElement(A.x,m()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},i()({},p,{display:"none"}))),u.createElement(A.x,i()({},p,{display:"none"}),u.createElement(R.e,{href:(0,B.WGd)(n,r)},u.createElement(f.VC,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"})))),u.createElement(K.I,null,(function(e){return!h&&e?u.createElement(H.a,{postId:l&&l.id,collectionSlug:n.slug}):u.createElement(u.Fragment,null)}))),u.createElement(A.x,{flexGrow:"0",zIndex:Y.ZP.metabar},o?u.createElement(W.p7,{withoutConversionButton:!0,post:l,publisher:n}):u.createElement(V.pJ,{post:l,publisher:n,withoutConversionButton:!0,setIsMetabarLocked:s})))))})),J=n(62872),$=n(1072),q=n(79296),Z=n(60054),ee=n(67297);function te(){var e=o()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    colorBehavior\n    isAuroraVisible\n    favicon {\n      id\n    }\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...collectionDefaultBackgroundTheme_collection\n    ...collectionTintBackgroundTheme_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return te=function(){return e},e}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){return G.Je+(e?G.ls:0)}function le(e){return G.R2+(e?G.ls:0)}function ie(e){var t,n=e.post,r=e.collection,o=e.isAmp,l=e.isFixed,i=e.behavior,a=e.shouldShowBottomMetabar,s=void 0===a||a,d=e.hideOpenInAppLink,m=(0,S.F)(),p=u.useState(!1),f=c()(p,2),g=f[0],h=f[1],E=u.useState(!1),v=c()(E,2),b=v[0],x=v[1],y=(0,ee.v9)((function(e){return e.client.isNativeMedium})),w="ACCENT_COLOR"===r.colorBehavior,P=r.navItems&&r.navItems.length>0,I=s&&P,C=!(I||b),_=w||I||b;if(u.useEffect((function(){window.innerWidth<m.breakpoints.md&&x(!0)}),[]),y)return null;var T=s&&u.createElement($.f,{theme:w?(0,M.jN)(r,m):(0,M.N9)(r,m)},u.createElement(F,{collection:r,withBorderTop:w,withTextColorSubtle:w}));return u.createElement(u.Fragment,null,u.createElement(J.l,{height:oe(P&&s),heightSm:le(!b&&s),isFixed:b||l,isLocked:b||g,behavior:i,marginBottom:0,marginBottomSm:0},u.createElement(Z.s,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),u.createElement($.f,{theme:_?(0,M.jN)(r,m):(0,M.N9)(r,m)},u.createElement(X,{post:n,collection:r,isAmp:o,shouldShowCollectionLogo:C,withMonogramDark:_,setIsMetabarLocked:h,hideOpenInAppLink:d})),!b&&T),b&&T)}function ae(e){var t,n=e.post,r=e.collection,o=e.isAmp,l=e.isFixed,i=e.behavior,a=e.shouldShowCollectionLogo,s=void 0===a||a,d=e.shouldShowBottomMetabar,m=void 0===d||d,p=e.hideOpenInAppLink,f=(0,S.F)(),g="ACCENT_COLOR"===r.colorBehavior,h=g?(0,M.jN)(r,f):(0,M.N9)(r,f),E=u.useState(!1),v=c()(E,2),b=v[0],x=v[1],y=g?"#E5E5E5":h.baseColor.border.light,w=u.useState(!1),P=c()(w,2),I=P[0],C=P[1],_=re(re({},r),{},{navItems:[]}),T=_.navItems&&_.navItems.length>0,k=m&&(s||T),R=(0,ee.v9)((function(e){return e.client.isNativeMedium}));if(u.useEffect((function(){window.innerWidth<f.breakpoints.md&&x(!0)}),[]),R)return null;var O=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:.4}},B=u.createElement(F,{collection:_,shouldShowCollectionLogo:s,withBorderTop:g,withTextColorSubtle:g,breakpoint:L.j.xs});return u.createElement(u.Fragment,null,u.createElement(J.l,{borderColor:y,height:oe(T&&m),heightSm:le(!b&&s&&m),isFixed:b||l,isLocked:b||I,behavior:i,marginBottom:0,marginBottomSm:0,breakpoint:L.j.xs},u.createElement(Z.s,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),u.createElement($.f,{theme:h},u.createElement(A.x,{backgroundColor:"BACKGROUND"},u.createElement(X,{post:n,collection:_,isAmp:o,shouldShowCollectionLogo:s&&(!T||!m),withMonogramDark:!g,setIsMetabarLocked:C,breakpoint:L.j.xs,hideOpenInAppLink:p}),k&&!g?u.createElement(q.h,null,(function(e){return u.createElement("div",{className:e(O)})})):null,!b&&k&&B))),b&&k&&u.createElement($.f,{theme:h},u.createElement(A.x,{backgroundColor:"BACKGROUND"},B)))}function ce(e){return e.collection.isAuroraVisible?u.createElement(ae,e):u.createElement(ie,e)}var se=(0,s.Ps)(te(),Q,j,M.Gi,M.VR)},94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>w});var r=n(59713),o=n.n(r),l=n(67294),i=n(28859),a=n(60046),c=n(82418),s=n(97145),u=n(42933),d=n(82318),m=n(1072),p=n(75209),f=n(37278),g=n(98024),h=n(77180),E=n(67297),v=n(67122),b=n(27952);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.authDomain,n=e.productName;return l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(d.r,{href:(0,b.mX)(t)},l.createElement(f.X6,{scale:"S"},"Write a story on ",n,"."))),l.createElement(g.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",l.createElement(d.r,{href:(0,b.mX)(t),inline:!0,linkStyle:"OBVIOUS"},"Start a blog")))},w=function(e){var t=e.slimFooter,n=(0,E.v9)((function(e){return e.config.authDomain})),r=(0,E.v9)((function(e){return e.config.productName})),o=(0,h.F)(),x=y(y({},o),{},{baseColor:y(y({},o.baseColor),{},{background:{light:v.Uy(.76),normal:v.Uy(.84),dark:v.Uy(.9)},border:{lighter:v.l9(.1),light:v.l9(.2),normal:v.l9(.34),dark:v.l9(.54),darker:v.l9(.84)},fill:{lighter:v.l9(.7),light:v.l9(.8),normal:v.l9(.98),dark:v.l9(.99),darker:v.l9(1)},text:{lighter:v.l9(.7),light:v.l9(.8),normal:v.l9(.98),dark:v.l9(.99),darker:v.l9(1)}})}),w=l.useContext(i.u6).updateWatchedBounds,P=l.useRef(null);return l.useEffect((function(){P&&w("footer",P,{type:"footer"})}),[P]),l.createElement(m.f,{theme:x},l.createElement(u.x,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"28px 0 12px"},ref:P},l.createElement(p.P,null,t?null:l.createElement(u.x,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},l.createElement(u.x,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(d.r,{href:(0,b.jQk)({authDomain:n,autoplay:!0})},l.createElement(f.X6,{scale:"S"},"Learn more."))),l.createElement(g.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",l.createElement(d.r,{href:(0,b.jQk)({authDomain:n,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),l.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},l.createElement(u.x,{paddingBottom:"8px"},l.createElement(d.r,{href:(0,b.a4F)(n)},l.createElement(f.X6,{scale:"S"},"Make ",r," yours."))),l.createElement(g.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",l.createElement(d.r,{href:(0,b.a4F)(n),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),l.createElement(S,{authDomain:n,productName:r}))),l.createElement(u.x,{display:"flex",flexDirection:"column"},l.createElement(u.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"},justifyContent:"space-between"},l.createElement(d.r,{href:"https://".concat(n,"/"),ariaLabel:"Go to homepage"},l.createElement(a.Rv,{fill:v.ix})),l.createElement(u.x,{display:"flex",justifyContent:"space-between",width:"200px",padding:{xs:"20px 0 28px",sm:"20px 0 28px",md:"0",lg:"0",xl:"0"}},l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(d.r,{href:(0,b.jQk)({authDomain:n}),inline:!0},"About")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(d.r,{href:(0,b.Zp)(n),inline:!0},"Write")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(d.r,{href:(0,b.XpN)(),inline:!0},"Help")),l.createElement(g.F,{color:"DARKER",scale:"L"},l.createElement(d.r,{href:(0,b.xBX)(),inline:!0},"Legal")))),l.createElement(l.Fragment,null,l.createElement(u.x,{display:"none",sm:{display:"flex",marginTop:"0",padding:"20px 0",borderTop:"BASE_DARK"}},l.createElement(g.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),l.createElement(u.x,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},l.createElement(u.x,{marginRight:"16px"},l.createElement(s.E,{entryPoint:"postPageFooter"})),l.createElement(u.x,null,l.createElement(c.H,{entryPoint:"postPageFooter"}))))))))}},30570:(e,t,n)=>{"use strict";n.d(t,{sK:()=>p,L0:()=>f});var r=n(28655),o=n.n(r),l=n(63038),i=n.n(l),a=n(71439),c=n(67294),s=n(73788),u=n(11615);function d(){var e=o()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      ...UserSubscribeButton_user\n    }\n    collection {\n      id\n      canToggleEmail\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var m=c.createContext({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){},clearExpandedState:function(){}}),p=function(){return c.useContext(m)},f=function(e){var t=e.children,n=c.useState(null),r=i()(n,2),o=r[0],l=r[1],a=c.useState(!1),u=i()(a,2),d=u[0],p=u[1],f=c.useState(null),g=i()(f,2),h=g[0],E=g[1];return c.createElement(m.Provider,{value:{expandedPostId:o,setExpandedPostId:l,postInView:d,setPostInView:p,expandedPost:h,setExpandedPost:E,clearExpandedState:function(){E(null),l(null),p(!1)}}},c.createElement(s.k,{post:h,preload:!0},t))};(0,a.Ps)(d(),u.w)},68225:(e,t,n)=>{"use strict";n.d(t,{z:()=>j});var r=n(63038),o=n.n(r),l=n(59713),i=n.n(l),a=n(67294),c=n(60046),s=n(43689),u=n(56862),d=n(28655),m=n.n(d),p=n(71439),f=n(6401),g=n(51562),h=n(76532),E=n(62181),v=n(42933);function b(){var e=m()(["\n  fragment StickyMetaMobileActions_publisher on Publisher {\n    __typename\n    ... on Collection {\n      slug\n      ...StickyMetaMobileActions_collection\n    }\n    ... on User {\n      username\n      id\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function x(){var e=m()(["\n  fragment StickyMetaMobileActions_post on Post {\n    id\n    collection {\n      ...StickyMetaMobileActions_collection\n    }\n    pendingCollection {\n      ...StickyMetaMobileActions_collection\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function y(){var e=m()(["\n  fragment StickyMetaMobileActions_collection on Collection {\n    id\n    creator {\n      id\n    }\n  }\n"]);return y=function(){return e},e}var S=function(e){var t=e.post,n=e.publisher,r=(0,h.H)().value,o="Collection"===(null==n?void 0:n.__typename)?n.slug:void 0,l="User"===(null==n?void 0:n.__typename)?n.username:null;return a.createElement(v.x,{display:"none",sm:{display:"flex",alignItems:"center",flexGrow:"1"}},!r&&a.createElement(g.W,{featureString:"lo-sticky-header",target:"sign-up-button"},a.createElement(E.R9,{buttonSize:"REGULAR",buttonStyle:"OBVIOUS",isButton:!0,operation:"register",susiEntry:"nav_reg"},"Get started")),a.createElement(f.a,{collectionSlug:o,postId:null==t?void 0:t.id,removeSpacing:!!r,username:l}))},w=(0,p.Ps)(y()),P=((0,p.Ps)(x(),w),(0,p.Ps)(b(),w),n(65849)),I=n(75209),C=n(6688),_=n(99701),T=n(27108),k=n(14391),R=n(67297),A=n(80637),O=n(89349),L=n(74465),B=n(27952),D=function(e,t,n,r){return function(o){var l;return l={},i()(l,A.sm(o),{borderTop:"1px solid ".concat(o.baseColor.border.lighter),borderBottom:"1px solid ".concat(o.baseColor.border.lighter)}),i()(l,"backgroundColor",o.backgroundColor),i()(l,"left","0"),i()(l,"opacity",e?1:0),i()(l,"position","fixed"),i()(l,"right","0"),i()(l,"top","0"),i()(l,"visibility",t?"hidden":"visible"),i()(l,"zIndex","".concat(L.ZP.metabar)),i()(l,(0,O.nk)("no-preference"),{animation:"".concat(e?n:r," .2s ease-in-out both")}),l}},M={"0%":{opacity:"0",transform:"translateY(-60px)"},"100%":{opacity:"1",transform:"translateY(0px)"}},N={"0%":{opacity:"1",transform:"translateY(0px)"},"100%":{opacity:"0",transform:"translateY(-60px)"}},j=function(e){var t=e.headerScale,n=e.post,r=e.publisher,l=(0,R.v9)((function(e){return e.config.authDomain})),i=(0,C.I)(),d=a.useState(!1),m=o()(d,2),p=m[0],f=m[1],g=a.useState(!0),h=o()(g,2),E=h[0],b=h[1],x=(0,_.o)({slideDownKeyframesName:M}).slideDownKeyframesName,y=(0,_.o)({slideUpKeyframesName:N}).slideUpKeyframesName,w=(0,P.jb)(),A=(t||w.headerScale)===k.w6.HEADER_SCALE_SMALL;return a.useEffect((function(){var e;T.V6.on("scroll_down",(function(){e=A?s.Je+160:s.Je+230,window.pageYOffset>e&&(f(!0),b(!1))})),T.V6.on("scroll_up",(function(){e=A?s.Je+160:s.Je+230,window.pageYOffset<=e&&f(!1)}))})),a.createElement("div",{className:i(D(p,E,x,y))},a.createElement(I.P,{size:"outset"},a.createElement(v.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"},height:"60px",top:"0",width:"100%",zIndex:L.ZP.metabar},a.createElement(v.x,{display:"flex",alignItems:"center",height:"100%"},a.createElement(S,{post:n,publisher:r}),a.createElement(u.e,{href:(0,B.cWJ)(l),ariaLabel:"Homepage"},a.createElement(c.YR,null))))))}},29577:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(68356),o=n.n(r),l=n(19725),i=o()({loader:function(){return Promise.all([n.e(38342),n.e(63303),n.e(5850),n.e(55402),n.e(99590),n.e(23913),n.e(97417)]).then(n.bind(n,55358))},modules:["src/components/responses/post/ThreadedResponsesSidebar"],webpack:function(){return[55358]},loading:function(){return null},render:(0,l.n)("ThreadedResponsesSidebar")})},73788:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(63038),o=n.n(r),l=n(67294),i=n(49486),a=n(29577),c=n(70586),s=n(92214),u=function(e){var t=e.children,n=e.post,r=e.preload,u=void 0===r||r,d=l.useState(void 0),m=o()(d,2),p=m[0],f=m[1],g=l.useCallback((function(e){return function(t){f(t),e()}}),[]);return l.createElement(c.E,{preload:u},(function(e){var r=e.showPreviousSidebar,o=e.hasLoaded,c=e.initialSidebarRender,u=e.isVisible,d=e.continueThisThreadPosts,m=e.openSidebar,h=e.cleanupSidebar;return l.createElement(i.Q.Provider,{value:{openSidebarToRespondToHighlight:g(m)}},!!n&&o&&l.createElement(a.L,{isResponsesSidebarVisible:u&&0===d.length,parentPost:n,inResponseToQuote:p,setInResponseToQuote:f,showPreviousSidebar:r,cleanupSidebar:h,initialSidebarRender:!!c.current}),!!n&&o&&d.map((function(e,t,o){var i=(0,s.iI)(t);return l.createElement(a.L,{key:n.id,isResponsesSidebarVisible:u&&t===o.length-1,parentPost:n,inResponseToQuote:p,setInResponseToQuote:f,continueThisThreadPost:e,continueThisThreadPostDepth:i,showPreviousSidebar:r,cleanupSidebar:h,initialSidebarRender:!!c.current})})),t)}))}},72393:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r=n(67294).createContext({addContinueThisThreadSidebar:function(){return null},openSidebar:function(){return null},closeSidebar:function(){return null}})},70586:(e,t,n)=>{"use strict";n.d(t,{E:()=>g});var r=n(319),o=n.n(r),l=n(63038),i=n.n(l),a=n(38125),c=n.n(a),s=n(67294),u=n(29577),d=n(72393),m=n(77180),p=n(27108),f=n(8403),g=function(e){var t=e.preload,n=e.children,r=s.useState(!1),l=i()(r,2),a=l[0],g=l[1],h=(0,m.F)(),E=!!(0,f.Wd)("responsesOpen"),v=s.useState(!1),b=i()(v,2),x=b[0],y=b[1],S=s.useRef(!0),w=s.useRef(0),P=s.useState(!1),I=i()(P,2),C=I[0],_=I[1],T=s.useCallback((function(){return y(!0)}),[]),k=s.useState([]),R=i()(k,2),A=R[0],O=R[1],L=s.useCallback((function(e){S.current=!1,O([].concat(o()(A),[e]))}),[A]),B=s.useCallback((function(){O(c()(A))}),[A]),D=s.useCallback((function(){y(!1),O([]),S.current=!0}),[]);s.useEffect((function(){_(!0),y(E)}),[E]);var M=function(){window.innerWidth<h.breakpoints.md&&g(!0)};return s.useEffect((function(){return M(),p.V6.on("resize",M),function(){return p.V6.off("resize",M)}}),[]),s.useEffect((function(){var e,t,n=null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.documentElement;return a&&null!=n&&n.style&&(x?(n.style.top="-".concat(w.current,"px"),w.current=n.scrollTop,n.style.overflow="hidden",n.style.position="fixed"):(n.style.overflow="",n.style.position="",n.style.top="",n.scrollTop=w.current)),function(){a&&null!=n&&n.style&&(n.style.overflow="",n.style.position="",n.style.top="",n.scrollTop=w.current)}}),[x]),s.useEffect((function(){t&&u.L.preload()}),[t]),s.createElement(d.f.Provider,{value:{addContinueThisThreadSidebar:L,openSidebar:T,closeSidebar:D}},n({showPreviousSidebar:B,hasLoaded:C,initialSidebarRender:S,isVisible:x,continueThisThreadPosts:A,openSidebar:T,cleanupSidebar:D}))}},17256:(e,t,n)=>{"use strict";n.d(t,{f:()=>x});var r=n(63038),o=n.n(r),l=n(46829),i=n(67294),a=n(53976),c=n(76532),s=n(324),u=n(4709),d=n(47089),m=n(42933),p=n(55099),f=n(41996),g=n(98024),h=n(95760),E=n(80685),v=n(69908),b=n(27952),x=function(){var e=(0,v.s)()||f.j.lg,t=e===f.j.xs||e===f.j.sm,n=(0,h.Av)(),r=(0,c.H)(),x=r.value,y=r.loading,S=(null==x?void 0:x.id)||"",w=!(null==x||!x.dismissableFlags.includes(E.T3.PP_AWARENESS_BANNER)),P=(0,l.useMutation)(d.a,{variables:{userId:S,flag:E.T3.PP_AWARENESS_BANNER}}),I=o()(P,1)[0],C=(0,a.VB)({name:"show_pp_awareness_banner",placeholder:!1});return null==x||!x.isPartnerProgramEnrolled||y||w||!C?null:i.createElement(s.N8,null,i.createElement(u.Y,{onClose:I,customThemeRule:function(e){return{background:e.baseColor.fill.dark}}},i.createElement(m.x,{alignItems:t?void 0:"center",display:"flex",xs:{flexDirection:"column"},sm:{flexDirection:"column"}},i.createElement(m.x,null,i.createElement(g.F,{color:"WHITE",scale:"M"},i.createElement("strong",null,"New!")," Boost earnings when you refer new members.")),i.createElement(m.x,{paddingLeft:t?"0":"12px",paddingTop:t?"8px":"0"},i.createElement(p.z,{buttonStyle:"STRONG",size:"SMALL",href:(0,b.o9P)(),onClick:function(){n.event("partnerProgramAwarenessBanner.learnMore.clicked",{targetUserId:S}),I()}},"Learn more")))))}},54247:(e,t,n)=>{"use strict";n.d(t,{gc:()=>Ut,De:()=>Wt,m6:()=>Ht});var r=n(28655),o=n.n(r),l=n(67154),i=n.n(l),a=n(59713),c=n.n(a),s=n(63038),u=n.n(s),d=n(71439),m=n(67294),p=n(12291),f=n(28859),g=n(36331),h=n(7893),E=n(17305),v=n(45113),b=n(9972),x=n(94132),y=n(26463),S=n(62872),w=n(45627),P=n(69625),I=n(47578),C=n(42963),_=n(76532),T=n(73891),k=n(67297),R=n(27952);function A(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return A=function(){return e},e}var O=function(e){var t=e.children,n=e.post,r=(0,k.v9)((function(e){return e.config.authDomain})),o=(0,_.H)().value,l=n.collection,i=n.creator&&o&&n.creator.id===o.id,a=(0,T.gY)(l).viewerEdge;return!n.isPublished&&(!l&&i||i&&null!=a&&a.canEditOwnPosts||null!=a&&a.isEditor||null!=a&&a.canEditPosts)?m.createElement(C.l,{to:(0,R.d0A)(r,n.id)}):m.createElement(m.Fragment,null,t)},L=(0,d.Ps)(A()),B=n(66371),D=n(23576),M=n(12653),N=n(47921),j=n(80439),F=n(89423),U=n(1932),V=n(32272),W=n(42933),H=n(82318),G=n(55099),K=n(77284),Y=n(3149),z=n(98024),Q=n(17614),X=n(27108),J=n(14391),$=n(85277),q=n(8403),Z=n(67122),ee=n(76579),te=n(96879);function ne(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return ne=function(){return e},e}function re(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return re=function(){return e},e}function oe(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return oe=function(){return e},e}var le=function(){return m.createElement(W.x,null,m.createElement(H.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,R.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var ie,ae=(0,d.Ps)(oe(),V.o),ce=(0,d.Ps)(re(),ae),se=function(e){var t=e.url,n=e.label,r=e.post,o={postId:null==r?void 0:r.id,source:"post_publish_dialog"};return m.createElement(ee.b,i()({url:t},o),(function(e){return m.createElement(W.x,{marginBottom:"8px"},m.createElement(G.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(W.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},ue=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return m.createElement(W.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(z.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),m.createElement(W.x,{marginTop:"20px"},!n&&m.createElement(m.Fragment,null,m.createElement(W.x,{marginBottom:"8px"},m.createElement(V.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(W.x,{marginBottom:"8px"},m.createElement(V.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(W.x,{marginBottom:"8px"},m.createElement(V.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),m.createElement(se,{url:r,label:"Copy story link",post:t})))},de=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,l=o.id,i=o.visibility,a=o.curationEligibleAt,c=o.mediumUrl,s=o.isNewsletter,u=o.isPublishToEmail,d=o.isMarkedPaywallOnly,p=o.creator,f=(0,U.T)(o),g=f.viewerEdge,h=f.loading,E="UNLISTED"===i,v=!!a,b=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===J.iR.ENROLLED,x=null==g?void 0:g.shareKey,y=(0,k.v9)((function(e){return e.config.productName})),S="Your story is published!";return u&&t===(null==p?void 0:p.id)?S="Your story has been published and sent!":s&&(S="Your newsletter is on its way!"),h?null:m.createElement(K.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(W.x,{background:Z.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,Z.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(W.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(W.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(Q.F1,{scale:"L",tag:"h3"},S),m.createElement(W.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(z.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,l){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",m.createElement(H.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,l):e?"Your unlisted story will not appear publicly on ".concat(l,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?m.createElement(m.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",l,"’s metered paywall.",m.createElement(le,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",l,"’s metered paywall.",m.createElement(le,null)):m.createElement(m.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",l," Partner Program."," ",m.createElement(H.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(E,v,b,s,null!=d&&d,y))),m.createElement(W.x,{paddingTop:"20px"},v&&!E&&c&&x&&m.createElement(se,{url:(0,te.Rk)((0,R.jVf)(o),{sk:x}),label:"Copy Friend Link",post:o})),m.createElement(W.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),l&&c&&m.createElement(ue,{post:o,isUnlisted:E,postPath:(0,R.jVf)(o)})),m.createElement(Y.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(ie||(ie={}));var me=function(e){var t=e.post,n=m.useState(!1),r=u()(n,2),o=r[0],l=r[1],i=m.useCallback((function(){return l(!1)}),[l]),a=(0,p.I0)(),c=(0,q.Wd)("postPublishedType"),s=(0,T.gY)(t.collection).viewerEdge;m.useEffect((function(){switch(c){case ie.initial:l(!0);break;case ie.repub:a((0,$.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var d=m.useState(!1),f=u()(d,2),g=f[0],h=f[1];return g?m.createElement(F.I,null,(function(e){return null!=e&&e.id&&(e.id===(t.creator&&t.creator.id)||t.collection&&null!=s&&s.isEditor)?m.createElement(j.AE,{ssr:!1,query:ce,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,l=(r=void 0===r?{}:r).post;return n||!l||l.inResponseToPostResult||l.inResponseToCatalogResult?null:m.createElement(de,{isVisible:o,hide:i,post:l,viewerId:e.id})})):null})):(X.V6.on("load",(function(){return h(!0)})),null)},pe=(0,d.Ps)(ne()),fe=n(46829),ge=n(50008),he=n.n(ge),Ee=n(51684),ve=n(83021),be=n(6688),xe=m.forwardRef((function(e,t){var n,r=e.children,o=m.useRef(null),l=m.useRef(null),i=m.useContext(f.u6).watchedBounds,a=m.useState(!0),c=u()(a,2),s=c[0],d=c[1],p=m.useState(0),g=u()(p,2),h=g[0],E=g[1],v=function(e){var t,n="object"===he()(e)?null==e?void 0:e.current:null,r=null==n?void 0:n.getBoundingClientRect();return 100+(null!==(t=null==r?void 0:r.top)&&void 0!==t?t:0)}(t),b=null===(n=o.current)||void 0===n?void 0:n.offsetHeight,x=(0,be.I)(),y=.45*window.innerHeight-20,S=b?window.innerHeight-b-20:y-20,w=m.useCallback((function(){var e;!function(e,t,n,r){e.current&&n((0,Ee.b2)(e.current,t,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(o,i,d);var t=(0,ve.Ui)(h,v,null===(e=o.current)||void 0===e?void 0:e.clientHeight);t!==h&&E(t);var n=1320,r=window.innerWidth-n;null!=l&&l.current&&(window.innerWidth>=n&&(l.current.style.right="".concat(r,"px")),window.innerWidth<n&&(l.current.style.right="0px"))}),[i,h,v]);m.useEffect((function(){w(),window.scroll(0,2),window.scroll(0,0)}),[]);var P="object"===he()(t)?t:null;m.useEffect((0,Ee.hE)(w,null==P?void 0:P.current),[w,null==P?void 0:P.current]);var I=s;return m.createElement("div",{className:x({minWidth:"300px",position:"fixed",right:"0"}),ref:l},m.createElement(Ee.HX,{sidebarRef:o,scrollableRef:t,visible:I,topOffset:S,isFixed:!0,extraWide:!0},m.createElement(W.x,null,r)))})),ye=n(52818),Se=n(51512),we=n(15699);function Pe(){var e=o()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Pe=function(){return e},e}var Ie=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Ce=function(e){var t,n=e.postId,r=(0,fe.useQuery)(_e,{variables:{postId:n}}),o=r.data,l=r.loading,i=r.error,a=(0,be.I)(),c=null==o||null===(t=o.recirc)||void 0===t?void 0:t.items;if(i||l||null==c||!c.length)return null;var s=c.slice(0,4);return m.createElement(xe,null,m.createElement(W.x,null,m.createElement(z.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:a(Ie)},"Related")),m.createElement(W.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?m.createElement(Se.cW,{source:{name:"read_next_recirc",index:t,feedId:e.feedId||void 0},key:"post-page-read-next-recirc".concat(n,"-").concat(t)},m.createElement(we.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(ye.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},_e=(0,d.Ps)(Pe(),ye.Q,we.h);function Te(){var e=o()(["\n  query FetchRecircLO($postId: String!) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Te=function(){return e},e}var ke=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Re=function(e){var t,n=e.postId,r=(0,fe.useQuery)(Ae,{variables:{postId:n}}),o=r.data,l=r.loading,i=r.error,a=(0,be.I)(),c=null==o||null===(t=o.recirc)||void 0===t?void 0:t.items;if(i||l||null==c||!c.length)return null;var s=c.slice(0,4);return m.createElement(xe,null,m.createElement(W.x,null,m.createElement(z.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:a(ke)},"Related")),m.createElement(W.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?m.createElement(Se.cW,{source:{name:"read_next_recirc",index:t},key:"post-page-read-next-recirc-lo-".concat(n,"-").concat(t)},m.createElement(we.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(ye.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},Ae=(0,d.Ps)(Te(),ye.Q,we.h),Oe=n(49925),Le=n(10103),Be=n(59877);function De(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return De=function(){return e},e}var Me,Ne=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,Oe.GT)(r),l=n.customStyleSheet;return o?m.createElement(Le.G8,{customStyleSheet:l,publisher:r},t):m.createElement(Le.G8,{customStyleSheet:null,publisher:r},m.createElement(Be.r,null,t))},je=(0,d.Ps)(De(),Le.Kc,Le.Ps,Oe.C5),Fe=n(62182),Ue=n(50493),Ve=n(15789),We=n(56690),He=n(46147),Ge=n(50188),Ke=n(19856),Ye=n(26022),ze=n(68225),Qe=n(56365),Xe=function(e){var t=e.children,n=e.rule,r=(0,be.I)(),o=n?r(n):"";return o?m.createElement("div",{className:o},t):m.createElement(m.Fragment,null,t)},Je=n(85489),$e=n(73788),qe=n(47552),Ze=n(36511),et=n(37395),tt=n(32589),nt=n(52788),rt=n(85714),ot=n(51562),lt=n(324),it=n(37258),at=n(19608),ct=n(27168),st=n(48881),ut=n(59317),dt=n(4709),mt=n(98281),pt=n(95760),ft=n(33572),gt=n(81591),ht=n(69332),Et="alternate_user_top_banner",vt=function(e){var t=e.userSocialLogins,n=(0,ut.j)().openModal;return t.facebook||t.google||t.twitter?m.createElement(at.r,{userSocialLogins:t}):m.createElement(it.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Et})},userId:t.userId},(function(e){var t=e.handleSubmit;return m.createElement(G.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},bt=function(){var e=(0,_.H)().value,t=(0,Ze.r)().viewerId,n=(0,p.I0)(),r=(0,pt.Av)(),o=m.useState(!1),l=u()(o,2),i=l[0],a=l[1],c=m.useState("loading"),s=u()(c,2),d=s[0],f=s[1];return m.useEffect((function(){n((0,ht.e6)(!0)),a(!0)}),[]),m.useEffect((function(){"rendered"===d&&n((0,gt.T)(!0)),"not_eligible"===d&&n((0,ht.e6)(!1))}),[d]),m.createElement(Se.cW,{source:{susiEntry:Et}},m.createElement(st.o,{postRenderCallback:function(e,n,o){f(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,ft.S)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,l=n.showSuggestedAccount,a=n.declineSuggestedAccount,c=n.userSocialLogins;return i&&l&&a&&c?m.createElement(lt.N8,null,m.createElement(dt.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,ft.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},m.createElement(W.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(W.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=c.userAvatar)||void 0===o?void 0:o.imageId)&&m.createElement(W.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(mt.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(ot.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(z.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",m.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(W.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(vt,{userSocialLogins:c}),m.createElement(W.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(ct.G,{declineSuggestedAccount:a,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},xt=n(17256),yt=n(94937),St=n(35285),wt=n(66210),Pt=n(58491),It=n(11348),Ct=n(31517),_t=n(172),Tt=n(8261),kt=n(97963),Rt=n(30389),At=n(27140),Ot=n(6639),Lt=n(65441);function Bt(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...ExpandablePost_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Bt=function(){return e},e}function Dt(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Dt=function(){return e},e}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.initial="initial",e.repub="repub"}(Me||(Me={}));var jt=function(e){return(0,Je.fl)(null==e?void 0:e.postBody)},Ft=function(){return null};function Ut(e){var t,n,r,o,l,i,a=e.meteringInfo,c=e.post,s=c.id,d=c.isPublished,g=c.isLocked,b=c.isShortform,y=c.content,S=c.collection,C=c.canonicalUrl,A=c.creator,L=(0,p.I0)(),M=(0,pt.Av)(),j=(0,q.PM)(),F=(0,k.v9)((function(e){return e.config.authDomain})),U=(0,k.v9)((function(e){return e.navigation.currentHash})),V=(0,k.p9)((function(e){return e.config.isAmp})),W=(0,k.v9)((function(e){return e.navigation.referrer})),H=(0,Rt.P)(),G=H.inAppBrowser,K=H.loading,Y=(0,tt.Pd)(A),z=Y.viewerEdge,Q=Y.loading,X=(0,T.gY)(c.collection),J=X.viewerEdge,$=X.loading,Z=(0,et.l)(null===(t=c.primaryTopic)||void 0===t?void 0:t.id),ee=Z.viewerEdge,te=Z.loading,ne=$||Q||te,re=m.useRef(null),oe=(0,_.H)().value;V&&(oe=void 0);var le=!!oe,ie=S||{},ae=ie.id,ce=ie.slug,se=ie.googleAnalyticsId,ue=y||{},de=ue.isLockedPreviewOnly,pe=ue.validatedShareKey,fe=se?[se]:null;(0,E.t)({ids:fe,isAmp:V}),(0,wt.V)(re,c),(0,Pt.t)(le,re,c),(0,P.i)(c);var ge=(0,Oe.GT)(S||A),he=b&&ge,Ee=(0,At.D)(ge),ve=(0,Se.P7)(j||"").dimension,be=!("digest.reader"!==(void 0===ve?"":ve))&&!de&&le&&!(null!=z&&z.isUser)&&!(null!=z&&z.isFollowing)&&((null==z?void 0:z.readPostsCount)||0)>=3,xe=m.useState(be),ye=u()(xe,2),we=ye[0],Pe=ye[1];m.useEffect((function(){Pe(be)}),[]);var Ie=(0,B.Dj)(c,{shouldInsertCreatorPromo:we}),_e=(0,q.Wd)("postPublishedType"),Te=(0,Ze.r)(),ke=Te.loading,Ae=Te.viewerId;m.useEffect((function(){if(!ke&&Ae&&!K&&!ne){if(d){le||(c.isLocked?(0,It.yB)():(0,It.B8)());var e=(0,v.RD)({inAppBrowser:G,post:c,meteringInfo:a,referrer:W,referrerSource:j,viewer:oe,currentUserId:Ae,creatorViewerEdge:z,collectionViewerEdge:J,topicViewerEdge:ee});S&&S.domain&&(e.data.$canonical_url=(0,R.o2w)(F,c.id));var t=oe&&oe.name?(0,ft.J)(oe.name):void 0;(0,I.KQ)({post:c},t),(0,v.Pu)(e),L((0,_t.aj)(e)),L((0,_t.QZ)()),function(e,t){var n;e===Me.initial&&(null!==(n=t.collection)&&void 0!==n&&n.id?(0,I.VT)(I.Vy.PostPublishedCollection):(0,I.VT)(I.Vy.PostPublished),(0,I.VT)(I.Vy.PostPublishedAggregate))}(_e,c),M.event("post.clientViewed",{postId:s,collectionId:ae,collectionSlug:ce,context:1,isFriendLink:!!pe})}else M.event("post.draftViewed",{postId:s});return le||(0,Ge.kD)(s),function(){L((0,_t.Uo)())}}}),[s,d,ke,Ae,K,G,oe,ne]),(0,kt.T)(c.customStyleSheet);var Le=(0,q.Wd)("readmore");m.useEffect((function(){var e;if(Le){var t=document.getElementById(Lt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[Le]);var Be=m.useState(null==A?void 0:A.hasCompletedProfile),De=u()(Be,2),je=De[0],Ue=De[1],We=(0,St.WI)(A).shouldShowDialog&&!je&&(!(null!=A&&A.name)||!(null!=A&&A.bio)||!(null!=A&&A.imageId));Ee!==ge&&L((0,Ct.t)(ge));var Ke,Ye,ze=g?{className:"meteredContent"}:{};if(U){var Je=U.split("-");Ke=Je[0],Ye=Je[1]}var ot=S&&c.customStyleSheet&&null!=c&&null!==(n=c.creator)&&void 0!==n&&null!==(r=n.customStyleSheet)&&void 0!==r&&r.blogroll?Nt(Nt({},c.customStyleSheet),{},{blogroll:null==c||null===(o=c.creator)||void 0===o||null===(l=o.customStyleSheet)||void 0===l?void 0:l.blogroll}):c.customStyleSheet,lt=(0,k.v9)((function(e){return e.client.hydrated})),it=(0,Ot.bi)(W,j)&&lt,at=null==j?void 0:j.includes("read_next_recirc"),ct=m.useState(!1),st=u()(ct,2),ut=st[0],dt=st[1],mt=it||at;return m.createElement(m.Fragment,null,m.createElement(O,{post:c},m.createElement(N.h,{isAmp:V,post:c}),m.createElement(rt.Lv,{post:c,user:A,forceLoad:(null===(i=oe)||void 0===i?void 0:i.id)===(null==A?void 0:A.id)}),m.createElement(Ne,{post:c},m.createElement(Qe.f,{customStyleSheet:c.customStyleSheet},ge&&m.createElement(xt.f,null),m.createElement(Vt,{post:c}),!ge&&m.createElement(xt.f,null),m.createElement($e.k,{post:c},m.createElement(Xe,{rule:jt(c.customStyleSheet)},m.createElement(f.Am,null,m.createElement(bt,null),m.createElement(yt.b,null),m.createElement("article",ze,m.createElement(D.m,{post:c,meteringInfo:a}),m.createElement(nt.T,{post:c},m.createElement(Ve.b,{activeGrafId:Ke,activeNoteId:Ye,isAuroraPostPageEnabled:ge,post:c,postBodyInserts:Ie,ref:re,shouldHideHighlightAnnotations:mt}))),!de&&!!d&&!he&&m.createElement(Fe.PostSidebar,{customStyleSheet:ot,post:c,extraWide:!0}),mt&&le&&m.createElement(Ce,{postId:c.id}),m.createElement(qe.b,{name:"enable_recirc_reboot_lo",placeholder:Ft},(function(e){return e&&mt&&!ut&&!le?m.createElement(Re,{postId:c.id}):null})),m.createElement(w.cu,{post:c,meteringInfo:a,setIsLORegWallVisible:dt}),!de&&m.createElement(He.zX,{post:c})))),m.createElement(me,{post:c}),!!d&&!ne&&m.createElement(f.Am,null,m.createElement(x.T,{slimFooter:ge})))),V&&m.createElement(m.Fragment,null,m.createElement(Tt.x,{json:(0,Tt.J)({postId:s,collectionId:ae,canonicalUrl:C,referrer:W},F)}),m.createElement(h.G,{collectionGoogleAnalyticsId:se}))),We&&!!A&&!c.collection&&m.createElement(St.fY,{user:A,confirmText:"Done",setHasCompletedProfile:Ue}))}var Vt=function(e){var t,n,r=e.post,o=r.collection,l=r.content,a=o||r.creator,c=(0,Oe.GT)(a),s=(0,k.p9)((function(e){return e.config.isAmp})),u=l.bodyModel&&l.bodyModel.paragraphs[0],d=u&&u.type===J.NJ.IMG&&u.layout===J.ms.FULL_WIDTH;if(a&&c)return m.createElement(W.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(Ye.Go,{publisher:a,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(ze.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:a}));var p={behavior:S.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(o)return m.createElement(b.NL,i()({},p,{collection:o}));var f=r.layerCake,g=r.primaryTopic,h=f&&(1===f||2===f||3===f),E=h?g:null;return m.createElement(y.kw,i()({},p,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:E}))},Wt=(0,d.Ps)(Dt(),M.X,w.Y6,v.PI),Ht=(0,d.Ps)(Bt(),P.a,b.JE,Qe.w,We.U,nt.Q,L,y.v7,Ye.aU,Ye.Mv,Fe.PostSidebar_customStyleSheet,w.rU,B.Cs,He.F9,M.Z,g.i,pe,Pt.W,je,wt.k,Fe.PostSidebar_post,Je._3,rt.QX,rt.v,St.xe,Oe.C5,v.ir,I.ne,Ue.tA,Ke.O9)},97963:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var r=n(67294),o=n(34019),l=function(e){var t=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(t){null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,o.r)("medium.getCustomStyleSheet",t)}},69908:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(67294),o=n(41820),l=function(){return r.useContext(o.g).responsiveSize}},34019:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(67294),o=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,o;try{o=JSON.parse(n.data)}catch(e){}(null===(r=o)||void 0===r?void 0:r.context)===e&&t(o)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/10733.09841323.chunk.js.map