(self.webpackChunklite=self.webpackChunklite||[]).push([[36851],{98914:(e,n,i)=>{"use strict";i.d(n,{Z:()=>l});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var d=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.11 12.23l-5.2-5.76L9.48 6l-.42.47-5.16 5.7.85.77L9.48 7.7 14.26 13l.85-.77z",fill:"#292929"});const l=function(e){return t.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19",fill:"none"},e),d)}},40606:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var d=t.createElement("g",{opacity:.8,clipPath:"url(#trending-topic_svg__clip0)",stroke:"#000"},t.createElement("circle",{cx:10,cy:10,r:9.5}),t.createElement("path",{d:"M1.46 13.57l4.47-4.48m.04-.01l3.67 3.66m.03 0l5.1-5.1m-2.15-.83h3m0 0v3",strokeLinecap:"round"})),l=t.createElement("defs",null,t.createElement("clipPath",{id:"trending-topic_svg__clip0"},t.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})));const o=function(e){return t.createElement("svg",a({width:20,height:20,fill:"none"},e),d,l)}},84033:(e,n,i)=>{"use strict";i.d(n,{MA:()=>o,Zh:()=>m,jM:()=>s});var t=i(63038),a=i.n(t),d=i(67294),l={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0},o=function(e,n,i,t){return e.filter((function(e){var a,d,l,o,r;return!(n.indexOf(null===(a=e.post)||void 0===a||null===(d=a.creator)||void 0===d?void 0:d.id)>-1||i.indexOf(null===(l=e.post)||void 0===l||null===(o=l.collection)||void 0===o?void 0:o.id)>-1||t.indexOf(null===(r=e.post)||void 0===r?void 0:r.id)>-1)}))},r=d.createContext(l),m=function(e){var n=e.children,i=d.useState(l.mutedAuthorIds),t=a()(i,2),o=t[0],m=t[1],s=d.useState(l.mutedPubIds),c=a()(s,2),u=c[0],k=c[1],p=d.useState(l.dismissedPostIds),v=a()(p,2),g=v[0],S=v[1],f=l.isMutingFromHomeFeed;return d.createElement(r.Provider,{value:{mutedAuthorIds:o,setMutedAuthorIds:m,mutedPubIds:u,setMutedPubIds:k,dismissedPostIds:g,setDismissedPostIds:S,isMutingFromHomeFeed:f}},n)},s=function(){return d.useContext(r)}},52957:(e,n,i)=>{"use strict";i.d(n,{T:()=>c});var t=i(63038),a=i.n(t),d=i(67294),l=i(33865),o=i(42933),r=i(75209),m=i(24438),s=i(27108),c=function(e){var n=e.isDockingEnabled,i=void 0!==n&&n,t=e.undockedBackgroundColor,c=e.maxWidthSize,u=void 0===c?"inset":c,k=e.children,p=d.useRef(null),v=d.useRef(null),g=d.useState(!1),S=a()(g,2),f=S[0],N=S[1];d.useEffect((function(){var e=function(){var e,n,i=null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect().y,t=null===(n=v.current)||void 0===n?void 0:n.getBoundingClientRect().y;i&&t&&N(Boolean(t-i))};if(e(),i)return s.V6.on("scroll",e),function(){s.V6.off("scroll",e)}}),[i]);var h=i&&f;return d.createElement(d.Fragment,null,d.createElement(o.x,{ref:v}),d.createElement(o.x,{ref:p,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,m.a)(l.T),maxHeight:(0,m.a)(l.T),position:i?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:i?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:h?"BACKGROUND":t,borderTop:h?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},d.createElement(o.x,{flexGrow:"1"},d.createElement(r.P,{size:u},k))))}},29674:(e,n,i)=>{"use strict";i.d(n,{w:()=>o});var t=i(319),a=i.n(t),d=i(92397),l=i(80502),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostRightColumn_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorInfo_user"}}]}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Tags_tag"}}]}}]}}].concat(a()(d.x.definitions),a()(l.k.definitions))}},80502:(e,n,i)=>{"use strict";i.d(n,{k:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Tags_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}},32281:(e,n,i)=>{"use strict";i.d(n,{a:()=>l,G:()=>o});var t=i(319),a=i.n(t),d=i(5055),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_bookEdition"}}]}}].concat(a()(d.G.definitions))},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat(a()(d._.definitions))}},32523:(e,n,i)=>{"use strict";i.d(n,{g:()=>d});var t=i(67294),a=i(98462),d=function(e){var n=e.children,i=e.className,d=void 0===i?"":i,l=e.href,o=e.onClick;return l?t.createElement(a.P,{className:d,href:l,onClick:o},n):n}},66921:(e,n,i)=>{"use strict";i.d(n,{B:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicPill_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}},79810:(e,n,i)=>{"use strict";i.d(n,{oQ:()=>D,Pl:()=>T,Mv:()=>R,Bk:()=>O});var t=i(28655),a=i.n(t),d=i(67154),l=i.n(d),o=i(59713),r=i.n(o),m=i(71439),s=i(67294),c=i(82318),u=i(18579),k=i(95760),p=i(51512),v=i(6688),g=i(19551),S=i(8403),f=i(67297),N=i(40606),h=i(27952);function F(){var e=a()(["\n  fragment TopicPill_tag on Tag {\n    __typename\n    id\n    displayTitle\n  }\n"]);return F=function(){return e},e}function y(){var e=a()(["\n  fragment TopicPill_topic on Topic {\n    __typename\n    id\n    name\n    slug\n  }\n"]);return y=function(){return e},e}function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function E(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){r()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var b={S:"2px 8px",M:"8px 16px"},P=function(){return{whiteSpace:"nowrap"}},C=function(){return{position:"absolute",left:"-10px",top:"-10px",borderRadius:"50%",backgroundColor:"white",border:"3px solid white"}},_=function(){return{marginRight:"8px"}},w=function(e){return function(){return{padding:"".concat(b[e]),position:"relative"}}},I=function(e){return{backgroundColor:"".concat(e.baseColor.background.normal),borderRadius:"100px",transition:"background 300ms ease",":hover":{backgroundColor:"".concat(e.baseColor.border.lighter)}}},D="40px",T=function(e){var n=e.topic,i=e.isTrending,t=void 0!==i&&i,a=e.scale,d=void 0===a?"M":a,o=e.color,r=void 0===o?"DARKER":o,m=e.index,F=(0,v.I)(),y=(0,f.v9)((function(e){return e.config.authDomain})),x=(0,f.v9)((function(e){return e.config.topicToTagMappings})),b=(0,p.Lk)(),D=(0,S.PM)(),T=(0,f.v9)((function(e){return e.navigation.referrer})),R=(0,k.Av)(),O=function(e,n){return"Topic"===e.__typename?n[e.slug]?n[e.slug]:e.slug:e.id||""}(n,x),M="Topic"===n.__typename?n.name:n.displayTitle,A=n.id||void 0,B=(0,f.v9)((function(e){return e.navigation.currentLocation})),L=(0,p.f0)(E(E({},b),{},{index:m,topicId:A})),U={source:L,referrerSource:D};"Topic"===n.__typename?(U.topicId=n.id,U.topicSlug=O):U.tagSlug=O;var V={referrer:T||B},j=O?(0,h.Ih$)(O,y):"#",W=(0,u.n)({name:"detail",scale:d,color:r}),z="Topic"===n.__typename?"topic.presented":"tag.presented",H=(0,g.g)({onPresentedFn:function(){R.event(z,U,V)}});return s.createElement(p.cW,{source:{index:m,topicId:A},extendSource:!0},s.createElement(c.r,l()({href:j},"M"===d&&{className:F(_)},{onClick:function(){R.event("tag.clicked",{source:L,referrerSource:D,tagSlug:O},V)}}),s.createElement("div",{className:F([w(d),I,W,P]),ref:H},t&&s.createElement("div",{className:F(C)},s.createElement(N.Z,null)),M)))},R=(0,m.Ps)(y()),O=(0,m.Ps)(F())},73018:(e,n,i)=>{"use strict";i.d(n,{Y:()=>c,r:()=>s});var t=i(319),a=i.n(t),d=i(72350),l=i(50294),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MemberOnlyWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionLandingPageScreen_writer"}}]}}]}}].concat(a()(d.G.definitions),a()(l._.definitions))},r=i(32018),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat(a()(r.qU.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MemberOnlyWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PayWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}}]}}].concat(a()(o.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PayWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}}]}}]),a()(m.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_meteringInfo"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}}]}}]))}},45627:(e,n,i)=>{"use strict";i.d(n,{cu:()=>Oe,Y6:()=>Re,rU:()=>Te});var t=i(28655),a=i.n(t),d=i(71439),l=i(67294),o=i(32149),r=i(2874);function m(){var e=a()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}var s=(0,d.Ps)(m(),o.G,r._k),c=i(63038),u=i.n(c),k=i(12291),p=i(46829),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorsDropdownQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userViewedPartnerProgramCreators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}}]}}]},g=i(27721),S=i(42933),f=i(24438),N=i(90038),h=function(e){return{display:"block",borderRadius:"50%",height:(0,f.a)(e),width:(0,f.a)(e)}};function F(e){var n=e.alt,i=e.diameter1,t=e.diameter2,a=e.diameter3,d=e.miroId1,o=e.miroId2,r=e.miroId3,m=e.freezeGifs,s=e.rules,c=[[h(i)],s],u=[[h(t)],s],k=[[h(a)],s];return l.createElement(l.Fragment,null,l.createElement(g.UV,{rules:c,alt:n,miroId:d,width:i,height:i,strategy:N._S.Crop,freezeGifs:m}),l.createElement(S.x,{paddingLeft:"2px",paddingTop:"2px",display:"flex",flexDirection:"column"},l.createElement(g.UV,{rules:u,alt:n,miroId:o,width:t,height:t,strategy:N._S.Crop,freezeGifs:m}),l.createElement(S.x,{paddingTop:"2px"},l.createElement(g.UV,{rules:k,alt:n,miroId:r,width:a,height:a,strategy:N._S.Crop,freezeGifs:m}))))}var y=i(32262),x=i(11852),E=i(19464),b=i(80362),P=i(55099),C=i(98024),_=i(95760),w=i(51512),I=i(6688),D=i(77180),T=i(99015),R=i(98914),O=i(6522),M="PAY_MULTIPLE_WRITERS_OPTION_ID",A=function(e){return{outline:"none",cursor:"pointer",background:e.accentColor.fill.normal,":hover":{background:e.accentColor.fill.dark}}},B=function(e){return{outline:"none",cursor:"pointer",":hover":{background:e.baseColor.background.light}}},L=[],U=function(e){return 0===e?A:B},V=function(e){var n,i=e.post,t=e.onSelect,a=(0,I.I)(),d=(0,D.F)(),o=(0,p.useQuery)(v,{ssr:!1}),r=o.error,m=o.data,s=o.loading,c=(0,_.Av)();if(!i.creator||r)return null;L=(null==m?void 0:m.userViewedPartnerProgramCreators.filter((function(e){var n;return(null==e?void 0:e.id)!==(null===(n=i.creator)||void 0===n?void 0:n.id)})).filter((function(e){return Boolean(e)})))||[],i.creator&&L.unshift({id:i.creator.id,name:i.creator.name,imageId:i.creator.imageId}),L.splice(5,0,{id:M,name:"quality writing",imageId:null});var u=null!==(n=i.creator.imageId)&&void 0!==n?n:O.gG,k=l.createElement(S.x,{width:"330px"},l.createElement(y.mX,{padding:"0"},l.createElement(S.x,null,L.slice(0,6).filter((function(e){return null!=e})).map((function(e,n){var d,o,r;return l.createElement(w.cW,{key:"creator-".concat(e.id),source:{index:n},extendSource:!0},l.createElement("div",{className:a(U(n)),onClick:function(){return function(e){var n,a;t(e),e.id===M?c.event("paywallDropdown.allCreatorsOptionSelected",{defaultCreatorId:null==i||null===(n=i.creator)||void 0===n?void 0:n.id}):c.event("paywallDropdown.creatorSelected",{defaultCreatorId:null==i||null===(a=i.creator)||void 0===a?void 0:a.id,selectedCreatorId:e.id})}(e)},"aria-hidden":"true","data-testid":"creator-item"},l.createElement(y.Sl,null,e.id!==M?l.createElement(S.x,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},l.createElement(x.z,{miroId:e.imageId||"",alt:e.name||"",diameter:32,freezeGifs:!1}),l.createElement(S.x,{paddingLeft:"21px"},l.createElement(C.F,{scale:"L",color:0===n?"WHITE":"DARKER"},e.name))):l.createElement(S.x,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},l.createElement(F,{miroId1:(null===(d=L[0])||void 0===d?void 0:d.imageId)||u,miroId2:(null===(o=L[1])||void 0===o?void 0:o.imageId)||u,miroId3:(null===(r=L[2])||void 0===r?void 0:r.imageId)||u,alt:"Pay multiple writers",diameter1:21,diameter2:12,diameter3:9,freezeGifs:!1}),l.createElement(S.x,{display:"inline-block",paddingLeft:"21px"},l.createElement(C.F,{tag:"span",scale:"L",color:0===n?"WHITE":"DARKER"},"Don't want to pick one writer?"),l.createElement(C.F,{tag:"span",scale:"S",color:0===n?"WHITE":"LIGHTER"},"Split your membership fee among writers you read"))))))}))),l.createElement(S.x,{padding:"8px 20px 0px 20px"},l.createElement("hr",null)),l.createElement(S.x,{padding:"10px 20px 18px 20px"},l.createElement(C.F,{scale:"S",color:"LIGHTER"},"These are writers you read most, who are eligible to receive a portion of your membership fee via Medium’s Partner Program."))));return l.createElement(E.B,null,(function(e){var n=e.isVisible,t=e.toggle,a=e.hide;return l.createElement("div",{onClick:function(){var e;t(),n||c.event("paywallDropdown.clicked",{defaultCreatorId:null==i||null===(e=i.creator)||void 0===e?void 0:e.id})},"data-testid":"popover-button","aria-hidden":"true"},l.createElement(b.J,{isVisible:n,hide:a,flip:!0,popoverRenderFn:function(){return k},display:"flex",targetDistance:10},l.createElement(P.z,{width:"240px",buttonStyle:"SUBTLE",size:"REGULAR",loading:s},l.createElement(S.x,{display:"flex",justifyContent:"center"},l.createElement(C.F,{scale:"M",color:"DARKER"},"Support a different writer"),l.createElement(S.x,{paddingLeft:"4px"},n?l.createElement(R.Z,{fill:d.baseColor.text.lighter}):l.createElement(T.Z,{fill:d.baseColor.text.lighter}))))))}))},j=i(67122),W=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,z=function(e){var n,i,t=e.children,a=(0,D.F)();return l.createElement(l.Fragment,null,l.createElement(S.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=a.backgroundColor,i=n.match(W),i?"rgba(".concat(i[1],", ").concat(i[2],", ").concat(i[3],", 0)"):(0,j.l9)(0)),", ").concat(a.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),l.createElement(S.x,{backgroundColor:"BACKGROUND"},l.createElement(S.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},t)))},H=i(51562),G=i(53976),K=i(76532),Q=i(36511),q=i(37258),$=i(19608),Y=i(27168),Z=i(48881),J=i(62876),X=i(17614),ee=i(96907),ne=i(33572),ie=i(85277),te=i(67297),ae=i(69908),de=i(96879),le=i(27952);function oe(){var e=a()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      id\n      name\n      imageId\n    }\n  }\n"]);return oe=function(){return e},e}var re=function(e){var n,i=e.optimizelyFeatureString,t=e.post,a=e.showTrialPaywall,d=e.authDomain,o=e.enablePaywallConversionsForReferredMembers,r=e.enableCreatorsDropdown,m=e.selectedCreatorId,s=(0,K.H)().value,c=t.creator&&t.creator.id,u=(0,le.c5p)(d),k=(0,_.Av)();n=r?(0,de.Rk)((0,le.c5p)(d),{subscribeToUserId:m||"",susiEntry:"post_paywall"}):(0,de.Rk)((0,le.c5p)(d),{subscribeToUserId:c||"",susiEntry:"post_paywall"});var p=o?n:u,v=l.useCallback((function(){k.event("paywall.upgradeClicked",{postId:null==t?void 0:t.id,userId:null==s?void 0:s.id})}),[t,null==s?void 0:s.id]);return l.createElement(w.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},l.createElement(ee.M,null,l.createElement(S.x,{display:"inline-block",textAlign:"center"},l.createElement(H.W,{featureString:i,target:a?"trial-upsell-button":"upsell-button-".concat(s&&s.hasPastMemberships?"resume-membership":"upgrade")},l.createElement(J.a,{isButton:!0,onClick:v,buttonStyle:a?"BRAND":"STRONG",width:r?"240px":a||s&&s.hasPastMemberships?"182px":"104px",redirectUrl:p},a?"Start your free trial":s&&s.hasPastMemberships?"Resume membership":"Upgrade")))))},me=function(e){var n=e.declineSuggestedAccount,i=e.userSocialLogins,t=(0,k.I0)();return l.createElement(w.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},l.createElement(S.x,{display:"flex",sm:{flexDirection:"column"}},l.createElement(S.x,{display:"flex",flexDirection:"row",justifyContent:"center"},i.facebook||i.google||i.twitter?l.createElement($.r,{userSocialLogins:i}):l.createElement(q.o,{onSuccess:function(){return t((0,ie.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:i.userId},(function(e){var n=e.handleSubmit;return l.createElement(P.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&l.createElement(S.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},l.createElement(C.F,{scale:"M"},l.createElement(Y.G,{declineSuggestedAccount:n,isSocial:!!i&&!!(i.facebook||i.google||i.twitter)}))))},se=function(e){var n=e.declineSuggestedAccount,i=e.userSocialLogins,t=e.suggestedAccountEventData,a=e.showSuggestedAccount,d=e.postId;return l.createElement(w.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:d}},l.createElement(ee.M,{eventData:t},l.createElement(S.x,{display:"inline-block",textAlign:"center"},l.createElement(me,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:i}),l.createElement(S.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},l.createElement(C.F,{scale:"L"},l.createElement(J.a,{eventData:t,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},ce=function(e){var n=e.post,i=e.excludePadding,t=void 0!==i&&i,a=(0,te.v9)((function(e){return e.config.authDomain})),d=(0,te.v9)((function(e){return e.config.productName})),o=l.useState(n.creator),r=u()(o,2),m=r[0],s=r[1],c=(0,K.H)().value,k=(0,Q.r)().viewerId,p=(0,_.Av)(),v=null==c?void 0:c.isMembershipTrialEligible,g=!(!(0,G.VB)({name:"enable_trial_upsell",placeholder:!1})||!v),f=(0,ae.s)(),N="xs"===f||"sm"===f,h=!!(0,G.VB)({name:"optimizely_holdback",placeholder:!1}),F=!!(0,G.VB)({name:"enable_referred_membership_entity_led_paywall",placeholder:!1}),y=!!(0,G.VB)({name:"enable_paywall_conversions_for_referred_members",placeholder:!1}),E=!!(0,G.VB)({name:"enable_paywall_with_dropdown",placeholder:!1}),b=!!(0,G.VB)({name:"enable_paywall_copy_updates_for_variant_a",placeholder:!1}),P=!!(0,G.VB)({name:"enable_paywall_copy_updates_for_variant_b",placeholder:!1});l.useEffect((function(){v&&p.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[v]),l.useEffect((function(){p.event("paywall.viewed",{userId:null==c?void 0:c.id})}),[]);var w="paywall",I=function(){var e,i,t;if(null===(e=t=E?m:n.creator)||void 0===e||!e.imageId)return null;var a=null!==(i=t.imageId)&&void 0!==i?i:O.gG;return l.createElement(S.x,{display:"flex",paddingBottom:"16px",justifyContent:"center"},l.createElement(x.z,{miroId:a,alt:t.name||"",diameter:80,freezeGifs:!1}))};return l.createElement(z,null,l.createElement(Z.o,{postRenderCallback:function(){}},(function(e){var i,o=e.loading,r=e.showSuggestedAccount,u=e.declineSuggestedAccount,p=e.userSocialLogins;return o?l.createElement(l.Fragment,null):(r&&(w="suggested-account-paywall"),r&&(i={alternateUserSuggestionShown:r,alternateUserSuggestionAccountType:(0,ne.S)(p),alternateUserSuggestionTargetUserId:!!p&&p.userId,alternateUserSuggestionSourceUserId:k}),l.createElement(l.Fragment,null,l.createElement(H.W,{featureString:w,target:g?"trial-background-color":"background-color"},l.createElement(S.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(S.x,{display:"flex",flexDirection:"column",padding:t?"48px 0 0":"48px 50px",sm:{padding:F?"0":"28px 16px 32px",textAlign:"center"}},(F||E)&&l.createElement(I,null),l.createElement(H.W,{featureString:w,target:g?"webCCTrialHeading":"fewerClicksHeading"},l.createElement(X.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,i,t,a,d){var o=t.showSuggestedAccount,r=t.showTrialPaywall,m=t.inHoldback,s=t.showEntityLedPaywall,c=t.enableCreatorsDropdown,u=n?(0,ne.J)(n):null;return u=u&&u.length<=13?u:null,o?"Switch to your member account for unlimited reading.":r?l.createElement(S.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},u?"".concat(u,", keep reading."):"Keep reading."):s&&!c?l.createElement(S.x,{maxWidth:"680px",margin:"auto",textAlign:"center"},l.createElement(S.x,{sm:{marginBottom:"8px"}},u?"".concat(u,", read more from ").concat(i," — and everyone else on ").concat(e,"."):"This is a member-only story published by ".concat(i,"."))):c&&a?l.createElement(S.x,{maxWidth:"680px",margin:"auto",textAlign:"center",sm:{width:"327px"}},l.createElement(X.F1,{scale:d?"S":"M",clamp:2},"Keep reading and support ",a.name)):l.createElement(S.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},m?"How to read this story — and everything else on ".concat(e,"."):u?i?"".concat(u,", read more from ").concat(i," — and everyone else on ").concat(e,"."):"".concat(u,", here's how to read this story — and everything else on ").concat(e,"."):i?"How to read this story from ".concat(i," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(d,c&&c.name,n.creator&&n.creator.name,{showSuggestedAccount:r,showTrialPaywall:g,inHoldback:h,showEntityLedPaywall:F,enableCreatorsDropdown:E},m,N))),l.createElement(C.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!r&&!g&&l.createElement(l.Fragment,null,F&&!E?l.createElement(S.x,{maxWidth:"680px",margin:"auto",textAlign:"center"},l.createElement(S.x,{marginTop:"8px",marginBottom:"16px"},"Reward great thinking. When you become a member, you get unlimited access to Medium and 50% of your membership fee goes to"," ",n.creator&&n.creator.name,".*")):E?l.createElement(S.x,{maxWidth:"680px",margin:"auto",textAlign:"center",sm:{width:"327px"}},l.createElement(S.x,{marginTop:"10px",marginBottom:"10px"},"When you become a member, you will get unlimited access to Medium and 50% of your membership fee will go to ",null==m?void 0:m.name,".*")):l.createElement(H.W,{featureString:w,target:"second-header-fewer-clicks"},l.createElement(S.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},b?"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports the voices you want to hear more from.":P?"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports ".concat(n.creator&&n.creator.name," and the voices you want to hear more from."):"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),l.createElement(S.x,{display:"flex",justifyContent:E||F?"center":void 0},E&&l.createElement(S.x,{display:"flex",alignItems:"center",xs:{flexDirection:"column"},sm:{flexDirection:"column"}},!N&&l.createElement(S.x,{display:"flex"},l.createElement(V,{post:n,onSelect:s}),l.createElement(S.x,{paddingLeft:"8px"},l.createElement(re,{optimizelyFeatureString:w,post:n,showTrialPaywall:g,authDomain:a,enablePaywallConversionsForReferredMembers:y,enableCreatorsDropdown:!0,selectedCreatorId:null==m?void 0:m.id}))),N&&l.createElement(S.x,null,l.createElement(re,{optimizelyFeatureString:w,post:n,showTrialPaywall:g,authDomain:a,enablePaywallConversionsForReferredMembers:y,enableCreatorsDropdown:!0,selectedCreatorId:null==m?void 0:m.id}),l.createElement(S.x,{paddingTop:"8px"},l.createElement(V,{post:n,onSelect:s})))),!E&&l.createElement(re,{optimizelyFeatureString:w,post:n,showTrialPaywall:g,authDomain:a,enablePaywallConversionsForReferredMembers:y})),(F||E)&&l.createElement(S.x,{paddingTop:"16px",margin:"auto",textAlign:"center"},l.createElement(C.F,{scale:"S",color:"LIGHTER"},"* Minus standard payment processing fees"))),l.createElement(H.W,{featureString:w,target:g?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},l.createElement(S.x,{marginTop:r?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,i,t){var a=i.showTrialPaywall;if(i.showSuggestedAccount&&n){var d=n.isMember,o=n.redactedEmailAddress;return l.createElement(l.Fragment,null,"Looks like you're coming from the ",d&&"member ","account"," ",l.createElement("b",null,o)," but you’re signed in as ",l.createElement("b",null,null==t?void 0:t.email),". Switch to your",d?" member account for unlimited access":" account",".")}return l.createElement(S.x,{textAlign:a?"center":"left"},a?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):"")}(d,p,{showSuggestedAccount:r,showTrialPaywall:g},c)))),!!r&&p&&l.createElement(se,{declineSuggestedAccount:u,userSocialLogins:p,suggestedAccountEventData:i,showSuggestedAccount:r,postId:n.id}),g&&!r&&l.createElement(re,{optimizelyFeatureString:w,post:n,showTrialPaywall:g,authDomain:a,enablePaywallConversionsForReferredMembers:y}))))))})))},ue=(0,d.Ps)(oe()),ke=i(6401),pe=i(66893),ve=i(62181),ge=i(5731),Se=i(59317),fe=i(81405),Ne=i(90174),he=i(4134),Fe=i(37581);function ye(){var e=a()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return ye=function(){return e},e}function xe(){var e=a()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return xe=function(){return e},e}var Ee="post_regwall",be=function(e){var n=e.enablePasswords,i=e.meterCount,t=e.optimizelyFeatureString,a=e.postId,d={operation:"register"},o=(0,Se.j)().openModal,r=function(e){var i=e.children;return n?l.createElement(H.W,{featureString:t,target:"google-button"},i):i};return l.createElement(S.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},l.createElement(H.W,{featureString:t,target:"google-button"},l.createElement(S.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},l.createElement(Fe.$,{eventData:{meterCount:i,operation:d.operation,postId:a}},l.createElement(he.x,d)))),l.createElement(r,null,l.createElement(S.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},l.createElement(Fe.$,{eventData:{meterCount:i,operation:d.operation,postId:a}},n?l.createElement(fe.R,{goToEmailAuthStep:function(){o({step:"ENTER_EMAIL",susiEntry:Ee,operation:"register"})},operation:"register"}):l.createElement(Ne.q,d)))))},Pe=function(e){var n=e.meteringInfo,i=e.post,t=e.setIsLORegWallVisible,a=(0,_.Av)(),d=!!(0,pe.P5)("enable_passwords"),o="LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,r="".concat(o?"syndicated-":"","regwall");return l.useEffect((function(){a.event("meter.viewed",{meterCount:null==n?void 0:n.postIds.length,postId:i.id,uiType:o?ge.j.SyndicatedRegwall:ge.j.RegWall}),t&&t(!0)}),[]),l.createElement(w.cW,{source:{postId:i.id,susiEntry:Ee}},l.createElement(z,null,l.createElement(H.W,{featureString:r,target:"background-color"},l.createElement(S.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},l.createElement(S.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},l.createElement(H.W,{featureString:r,target:"heading"},l.createElement(X.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},l.createElement(S.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),l.createElement(S.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),l.createElement(C.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},l.createElement(S.x,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),l.createElement(S.x,{display:"none",sm:{display:"block"}},l.createElement(S.x,{margin:"".concat(d?"40px":"42px"," 0")},l.createElement(ke.a,{isButton:!0,postId:i.id,appEntry:"regwall"})),l.createElement(H.W,{featureString:r,target:"skip-app-copy"},l.createElement(S.x,{marginBottom:"-20px"},"Or, continue in mobile web"))),l.createElement(be,{meterCount:null==n?void 0:n.postIds.length,optimizelyFeatureString:r,postId:i.id,enablePasswords:d}),l.createElement(H.W,{featureString:r,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),l.createElement(H.W,{featureString:r,target:"sign-in-link",tag:"span"},l.createElement(ve.R9,{linkStyle:"OBVIOUS",operation:"login",post:i,susiEntry:Ee},"Sign in"))))))))},Ce=(0,d.Ps)(xe(),ve.qU),_e=(0,d.Ps)(ye()),we=i(1932);function Ie(){var e=a()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return Ie=function(){return e},e}function De(){var e=a()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return De=function(){return e},e}var Te=(0,d.Ps)(De(),s,ue,Ce),Re=(0,d.Ps)(Ie(),_e),Oe=function(e){var n=e.post,i=e.meteringInfo,t=e.excludePadding,a=e.setIsLORegWallVisible,d=n.id,o=n.content.isLockedPreviewOnly,r=(0,K.H)(),m=r.value,s=r.loading;if(!(0,we.n)(d,o).loading&&o){if(m)return l.createElement(ce,{post:n,excludePadding:t});if(!s)return l.createElement(Pe,{post:n,meteringInfo:i,setIsLORegWallVisible:a})}return null}},84294:(e,n,i)=>{"use strict";i.d(n,{t:()=>a});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DraftStatus_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BoldCollectionName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}].concat(i.n(t)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"BoldCollectionName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))}},7013:(e,n,i)=>{"use strict";i.d(n,{NY:()=>r,lh:()=>s,uy:()=>m});var t=i(319),a=i.n(t),d=i(68312),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToCatalogPreview_catalogResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogsListItem_catalog"}}]}}]}}].concat(a()(d.c.definitions))},o=i(956),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToEntityPreview_catalogResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToCatalogPreview_catalogResult"}}]}}].concat(a()(l.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToEntityPreview_postResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_postResult"}}]}}].concat(a()(o.z.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToEntityPreview_mediaResource"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_mediaResource"}}]}}].concat(a()(o.K.definitions))}},956:(e,n,i)=>{"use strict";i.d(n,{K:()=>m,z:()=>r});var t=i(319),a=i.n(t),d=i(61598),l=i(19194),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Quote_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quoteId"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"rel"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"}}]}}].concat(a()(d.$m.definitions),a()(l.Rg.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}}]}}]))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToPostPreview_postResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}}]},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InResponseToPostPreview_mediaResource"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inResponseToMediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumQuote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Quote_quote"}}]}}]}}]}}].concat(a()(o.definitions))}},56690:(e,n,i)=>{"use strict";i.d(n,{U:()=>U,m:()=>L});var t=i(319),a=i.n(t),d=i(15409),l=i(50122),o=i(47137),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAnnotationsMarker_paragraph"}}]}}].concat(a()(d.Z.definitions),a()(l.p.definitions),a()(o.M.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlight"}}]}}].concat(a()(d.D.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"}}]}}].concat(a()(o.u.definitions))},c=i(19194),u=i(61598),k=[{kind:"FragmentDefinition",name:{kind:"Name",value:"getSectionEndIndex_section"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Section"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}],p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphStyles_richText"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getSectionEndIndex_section"}}]}}]}}].concat(a()(k))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphSpaces_richText"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"paragraphExtendsImageGrid_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getSeriesParagraphTopSpacings_richText"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostParagraphTopSpacings_richText"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"paragraphExtendsImageGrid_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getSeriesParagraphTopSpacings_richText"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getPostParagraphTopSpacings_richText"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"normalizedBodyModel_richText"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphHighlights_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphPrivateNotes_paragraph"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getSectionEndIndex_section"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphStyles_richText"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphSpaces_richText"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphPrivateNotes_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]),a()(k),a()(p.definitions),a()(v.definitions))},S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"normalizedBodyModel_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphHighlights_highlight"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}}]))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getParagraphPrivateNotes_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"anchor"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"replies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"noteId"}},{kind:"Field",name:{kind:"Name",value:"postId"}}]}},{kind:"Field",name:{kind:"Name",value:"selectionStartOffset"}},{kind:"Field",name:{kind:"Name",value:"selectionEndOffset"}}]}}].concat(a()(u.$m.definitions))},N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"normalizedBodyModel_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphPrivateNotes_privateNote"}}]}}].concat(a()(f.definitions))},h={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IframeParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iframe"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"iframeSrc"}},{kind:"Field",name:{kind:"Name",value:"iframeHeight"}},{kind:"Field",name:{kind:"Name",value:"iframeWidth"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getEmbedlyCardUrlParams_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getEmbedlyCardUrlParams_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"iframe"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iframeSrc"}}]}}]}}]}}]),a()(d.Z.definitions))},F={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"IframeParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MixtapeParagraph_paragraph"}}]}}].concat(a()(r.definitions),a()(c.Rg.definitions),a()(h.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MixtapeParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"thumbnailImageId"}}]}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]))},y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_highlight"}}]}}].concat(a()(c.m8.definitions),a()(m.definitions))},x={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_privateNote"}}]}}].concat(a()(c.hz.definitions),a()(s.definitions))},E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_highlight"}}]}}].concat(a()(y.definitions))},b={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_privateNote"}}]}}].concat(a()(x.definitions))},P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"}}]}}].concat(a()(E.definitions))},C={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"}}]}}].concat(a()(b.definitions))},_={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_paragraph"}}]}}].concat(a()(F.definitions))},w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"}}]}}].concat(a()(P.definitions))},I={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"}}]}}].concat(a()(C.definitions))},D=i(16831),T={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesDetails_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(D.W.definitions))},R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesMarkers_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesDetails_user"}}]}}]}}].concat(a()(T.definitions))},O={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"startIndex"}},{kind:"Field",name:{kind:"Name",value:"textLayout"}},{kind:"Field",name:{kind:"Name",value:"imageLayout"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"videoLayout"}},{kind:"Field",name:{kind:"Name",value:"backgroundVideo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoId"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"previewImageId"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_richText"}}]}}].concat(a()(_.definitions),a()(g.definitions))},M=([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesMarkers_highlight"}}]}}].concat(a()(S.definitions),a()(w.definitions),a()(R.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesMarkers_creator"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesMarkers_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))}),A=([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_privateNote"}}]}}].concat(a()(N.definitions),a()(I.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat(a()(l.p.definitions))}),B=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_highlight"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}])),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNewNoteCard_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNewNoteCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}}]}}]))}),L={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"truncationConfig"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"previewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"400"}},{kind:"ObjectField",name:{kind:"Name",value:"minimumWordLengthForTruncation"},value:{kind:"IntValue",value:"150"}},{kind:"ObjectField",name:{kind:"Name",value:"truncateAtEndOfSentence"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"showFullImageCaptions"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"shortformPreviewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"30"}},{kind:"ObjectField",name:{kind:"Name",value:"shortformMinimumWordLengthForTruncation"},value:{kind:"IntValue",value:"30"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}}]}}].concat(a()(O.definitions))},U={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_creator"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_post"}}]}}].concat(a()(O.definitions),a()(A.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]),a()(M.definitions),a()(B.definitions))}},15789:(e,n,i)=>{"use strict";i.d(n,{b:()=>D});var t=i(67154),a=i.n(t),d=i(63038),l=i.n(d),o=i(28655),r=i.n(o),m=i(46829),s=i(71439),c=i(67294),u=i(2277),k=i(25415),p=i(40820),v=i(69677),g=i(72846),S=i(91442),f=i(59713),N=i.n(f),h=i(11642);function F(){var e=r()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return F=function(){return e},e}function y(){var e=r()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return y=function(){return e},e}function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function E(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){N()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function b(e,n,i){if(!e||"number"!=typeof n||"number"!=typeof i)return null;var t=n,a=i;return e.substr(t,a-t)}var P=(0,s.Ps)(y()),C=((0,s.Ps)(F()),i(76532)),_=i(44059);function w(){var e=r()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var I=(0,s.Ps)(w(),p.UW,S.g8,g.XV,g.w6,P),D=c.forwardRef((function(e,n){var i,t,d,o=e.activeGrafId,r=e.activeNoteId,s=e.isAuroraPostPageEnabled,f=e.post,N=e.inlinePost,F=e.postBodyInserts,y=e.richTextStyle,x=e.markedUpBodyModel,P=e.shouldHideHighlightAnnotations,w=(0,C.H)().value,D=N&&!f?x||(null==N||null===(i=N.extendedPreviewContent)||void 0===i?void 0:i.bodyModel):null==f||null===(t=f.content)||void 0===t?void 0:t.bodyModel,T={creator:null==f?void 0:f.creator,isAuroraPostPageEnabled:s,postBodyInserts:F,ref:n,richTextStyle:y||"FULL_PAGE"},R=f&&f.creator&&f.creator.allowNotes||!1,O=(0,m.useLazyQuery)(I,{ssr:!1,variables:{postId:(null==f?void 0:f.id)||"",showNotes:R},notifyOnNetworkStatusChange:!0}),M=l()(O,2),A=M[0],B=M[1],L=B.called,U=B.data,V=null==U?void 0:U.post;if(c.useEffect((function(){f&&!L&&A()}),[f]),!D)return _.t.log("Expected post to have content or preview content."),null;var j=(null==f||null===(d=f.content)||void 0===d?void 0:d.bodyModel)&&(null==f?void 0:f.content.bodyModel.paragraphs)||[],W=function(e,n){return e&&n?e.map((function(e){var i=e.endOffset,t=e.startOffset,a=e.paragraphs&&e.paragraphs[0],d=function(e,n){return e?n.find((function(n){var i=n.name;return e===i})):null}(a.name,n);if(!a||!d)return null;var l=b(a.text,t,i),o=b(d.text,t,i);if(!l||!o)return null;if(l===o)return e;var r=d.text?d.text.indexOf(l):null;if("number"!=typeof r||r<0)return null;var m=r+l.length;return E(E({},e),{},{endOffset:m,startOffset:r})})).filter(h.b):e}(V&&V.highlights||[],j),z=V&&V.privateNotes||null;return c.createElement(v.yb,null,c.createElement(k.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:o},c.createElement(p.Ms,{interactivePost:f,highlights:W,disableSelection:!f},c.createElement(S.U7,{highlights:W,paragraphs:j,viewer:w},c.createElement(u.c.Provider,{value:!0},c.createElement(g.yO,a()({},T,{bodyModel:D,highlights:W,privateNotes:z,shouldHideHighlightAnnotations:P})))))))}))},50122:(e,n,i)=>{"use strict";i.d(n,{p:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},41532:(e,n,i)=>{"use strict";i.d(n,{z:()=>o});var t=i(319),a=i.n(t),d=i(32018),l=i(32281),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(a()(d.qU.definitions),a()(l.G.definitions))}},91671:(e,n,i)=>{"use strict";i.d(n,{u:()=>l});var t=i(319),a=i.n(t),d=i(23278),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterSocialPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}}]}}].concat(a()(d.o.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}}]}}]))}},50188:(e,n,i)=>{"use strict";i.d(n,{kD:()=>v,T8:()=>g,Qw:()=>S});var t,a,d=i(59713),l=i.n(d),o=i(57953),r="post-view",m="post-read",s="topic-view",c="medium-search",u="external-search",k=(t={},l()(t,r,200),l()(t,m,200),l()(t,s,200),l()(t,c,200),l()(t,u,200),t),p=(a={},l()(a,r,new o.Z("pv")),l()(a,m,new o.Z("pr")),l()(a,s,new o.Z("tv")),l()(a,c,new o.Z("ms")),l()(a,u,new o.Z("es")),a),v=function(e){f(r,e,Date.now())},g=function(e){f(m,e,Date.now())},S=function(e){f(s,e,Date.now())},f=function(e,n,i){var t=p[e];t.getCount()===k[e]&&t.clean();try{t.set(n,i)}catch(e){t.clean()}}},19856:(e,n,i)=>{"use strict";i.d(n,{bj:()=>y,O9:()=>F});var t=i(319),a=i.n(t),d=i(73018),l=i(91538),o=i(56690),r=i(7013),m=i(82701),s=i(41532),c=i(91671),u=i(56373),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterSocialPopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}}]}}].concat(a()(m.D.definitions),a()(s.z.definitions),a()(c.u.definitions),a()(u.x.definitions))},p=i(37931),v=i(88833),g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadMore_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(v.u.definitions))},S=i(66921),f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"}}]}}].concat(a()(S.B.definitions),a()(s.z.definitions),a()(m.D.definitions))},N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityFooter_post"}}]}}].concat(a()(f.definitions))},h={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"createLinkedImage_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"createLinkedParagraph_paragraph"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"createLinkedImage_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"href"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"createLinkedParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]))},F=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}].concat(a()(d.Y.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_user"}}]}}].concat(a()(l.br.definitions))}),y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_postPreview"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_postResult"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_catalogResult"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostFooter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_mediaResource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadMore_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityPreview_post"}}]}}].concat(a()(F.definitions),a()(l.We.definitions),a()(o.m.definitions),a()(r.uy.definitions),a()(r.NY.definitions),a()(l.yu.definitions),a()(k.definitions),a()(p.h.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostScrollTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}}]}}]),a()(r.lh.definitions),a()(g.definitions),a()(N.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostmergeContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"markupPostBodyParagraphs_paragraph"}}]}}]}}]}}]}}].concat(a()(h.definitions))},36851:(e,n,i)=>{"use strict";i.d(n,{m:()=>qn});var t=i(67154),a=i.n(t),d=i(59713),l=i.n(d),o=i(63038),r=i.n(o),m=i(82492),s=i.n(m),c=i(17673),u=i(46829),k=i(67294),p=i(5977),v=i(52957),g=i(34488),S=i(45627),f=i(10233),N=i(30570),h=i(4743),F=i(15789),y=i(14391),x=i(33919);function E(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function b(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?E(Object(i),!0).forEach((function(n){l()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var P=function(e,n){var i;return n?b(b({},e),{},{markups:[{anchorType:y.yG.LINK,type:y.Jh.A,start:0,end:(null==e||null===(i=e.text)||void 0===i?void 0:i.length)||0,href:n,userId:null,linkMetadata:null}]}):e},C=function(e,n){return n?b(b({},e),{},{href:n}):e},_=function(e,n){var i,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=null!==(i=(0,h.LI)(e).titleIndex)&&void 0!==i?i:(0,x.s)(e,x.j);return e.map((function(e,i){return t&&e.type===y.NJ.IMG?C(e,n):i===a?P(e,n):e}))},w=i(93912),I=i(50077),D=i(76532),T=i(42933),R=i(75209),O=i(57693),M=i(95760),A=i(51512),B=i(6688),L=i(58491),U=i(66210),V=i(36891),j=i(15699),W=i(61250),z=i(8403),H=i(67297),G=k.createContext(null),K=function(e){var n=e.event,i=e.children;return k.createElement(G.Provider,{value:{event:n}},i)},Q=i(64227),q=i(27140),$=i(96879),Y=i(19732),Z=i(27952);function J(){return(J=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var X=k.createElement("circle",{cx:16,cy:16,r:16,fill:"#292929"}),ee=k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.77 16.48l5.4 5.4.7-.7-5.4-5.4 4.7-4.7-.71-.7-4.69 4.69-4.69-4.7-.7.71 4.68 4.7-5.4 5.4.71.7 5.4-5.4z",fill:"#FAFAFA"});const ne=function(e){return k.createElement("svg",J({width:32,height:32,fill:"none"},e),X,ee)};var ie=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer"}},te={xs:"60px",sm:"60px",md:"40px",lg:"40px",xl:"40px"},ae=function(e){var n=e.expansionRef,i=e.basePostUrl,t=e.referrer,a=e.referrerSource,d=(0,B.I)(),l=(0,p.k6)(),o=(0,N.sK)().clearExpandedState,r=(0,M.Av)();return k.createElement(T.x,{position:"sticky",top:te,height:"0",textAlign:"right",float:"right",marginRight:{xs:"0px",sm:"0px",md:"-42px",lg:"-42px",xl:"-42px"}},k.createElement(T.x,{bottom:"20px"},k.createElement("button",{type:"button",className:d(ie),onClick:function(){var e,d=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().y;d&&d<0&&window.scrollBy(0,d),o(),l.goBack(),r.event("client.navigate",{metadata:{},newPath:t||"",oldPath:i||"",source:a||""})},"aria-label":"Collapse"},k.createElement(ne,null))))},de=i(319),le=i.n(de),oe=i(56690),re=i(73018),me=i(19856),se=i(6776),ce={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InlineExpansionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"blogroll"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"followedCollections"}},{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingCount"}},{kind:"Field",name:{kind:"Name",value:"collectionFollowingCount"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canToggleEmail"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}},{kind:"Field",name:{kind:"Name",value:"tagline"}}]}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"blogroll"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}}]}}]}}]}}].concat(le()(se.w.definitions))},ue=i(29674),ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExpandablePostExpandedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InlineExpansionContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostRightColumn_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}}]}}]}}]}}].concat(le()(oe.U.definitions),le()(re.r.definitions),le()(me.bj.definitions),le()(ce.definitions),le()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),le()(ue.w.definitions),le()(re.Y.definitions))},pe=i(28655),ve=i.n(pe),ge=i(71439),Se=i(83687),fe=i(36823),Ne=i(9292),he=i(11852),Fe=i(82318),ye=i(98024),xe=i(6522);function Ee(){var e=ve()(["\n  fragment ExpandablePostByline_collection on Collection {\n    __typename\n    id\n    name\n    domain\n    slug\n  }\n"]);return Ee=function(){return e},e}function be(){var e=ve()(["\n  fragment ExpandablePostByline_user on User {\n    __typename\n    id\n    name\n    username\n    imageId\n    hasSubdomain\n    customDomainState {\n      live {\n        domain\n      }\n    }\n  }\n"]);return be=function(){return e},e}var Pe=function(e){var n=e.publication,i=(0,Se.R)(n);return k.createElement(T.x,{display:"flex"},k.createElement(T.x,{padding:"0 2px"},k.createElement(ye.F,{scale:"M"},"in")),k.createElement(Fe.r,{href:i,display:"inline-block"},k.createElement(ye.F,{scale:"M",color:"DARKER",clamp:1},n.name)))},Ce=function(e){var n=e.creator,i=e.collection,t=(0,fe.B)(n);return k.createElement(T.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},k.createElement(Fe.r,{href:t},k.createElement(ye.F,{scale:"M",color:"DARKER",clamp:1},n.name)),i&&i.name!==n.name&&k.createElement(Pe,{publication:i}))},_e=function(e){var n=e.creator,i=e.collection,t=e.datePrefix,a=e.href,d=e.publishedAt,l=e.showStar,o=void 0!==l&&l,r=e.showPinned,m=void 0!==r&&r,s=e.showPublisherInfo,c=void 0!==s&&s,u=e.post;return k.createElement(Ne.Y,{avatar:n&&c&&k.createElement(he.z,{miroId:n.imageId||xe.gG,alt:n.name||"",diameter:24,freezeGifs:!0}),isOneLine:!0,title:c?k.createElement(Ce,{creator:n,collection:i}):null,description:k.createElement(I.Q5,{datePrefix:t,publishedAt:d,withMidDot:c,href:a,showStar:o,showPinned:m,isOneLine:!0,post:u})})},we=((0,ge.Ps)(be()),(0,ge.Ps)(Ee()),i(75341)),Ie=i(86948),De=i(64578),Te=i(12291),Re=i(93653),Oe=i(35848),Me=i(53962),Ae=i(63564),Be=i(71245),Le=i(965),Ue=i(78820),Ve=i(73232),je=i(1932),We=i(32262),ze=i(57469),He=i(7157),Ge=i(29169),Ke=i(92528),Qe=i(80362),qe=i(21010),$e=i(65347),Ye=i(93394),Ze=i(39171),Je=i(51064),Xe=i(55573),en=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},nn=function(e){var n=e.post,i=e.publisherContext,t=e.isEditor,d=e.isWriter,l=e.creator,o=(0,B.I)(),m=(0,H.v9)((function(e){return e.config.authDomain})),s=n.id,c=n.collection,u=n.responseDistribution,p=n.visibility,v=n.mediumUrl,g=n.allowResponses,S=(0,D.H)().value,f=null==S?void 0:S.id,N=null==l?void 0:l.id,h=(0,je.T)(n).viewerEdge,F=c||{id:"",name:""},x=F.id,E=F.name,b=(0,Je.O)(!1),P=r()(b,3),C=P[0],_=P[1],w=P[2],I=(0,Ue.n_)(n,i),T=r()(I,2),R=T[0],O=T[1],M=k.useState(""),A=r()(M,2),L=A[0],U=A[1],V=k.useCallback((function(){w(),O().then((function(e){var n=e.errors;n&&n.length&&n[0].message?U(n[0].message):window.location.reload()}))}),[w,O,U]),j=(0,Be.yb)(n),W=(0,Je.O)(!1),z=r()(W,3),G=z[0],K=z[1],Q=z[2],q=k.useCallback((function(){j(c).then((function(){return window.location.reload()}))}),[x,j]),$=(0,Re.j)(s),Y=r()($,1)[0],J=(0,Je.O)(!1),X=r()(J,3),ee=X[0],ne=X[1],ie=X[2],te=k.useCallback((function(){Y().then((function(){return window.location.reload()}))}),[Y]),ae=u===y.Et.DISTRIBUTED,de=(0,Je.O)(!1),le=r()(de,3),oe=le[0],re=le[1],me=le[2],se={buttonStyle:"ERROR",cancelText:"Cancel"},ce="ExpandablePostCardEditorWriterMenu",ue="Delete story".concat(ae?" and response":""),ke=ae?Ve.Q:"Are you sure you want to delete this story?",pe="LOCKED"===p,ve="User"===i&&d||"Collection"===i&&t,ge=(0,Te.I0)(),Se=k.useCallback((function(e){return ge((0,$e.at)(e))}),[ge]),fe=(0,H.b$)((function(e){return e.multiVote.clapsPerPost})),Ne=(0,Xe.l)(fe,n,h),he=Ne.clapCount,xe=Ne.viewerClapCount,Ee=(0,Le.CP)();return k.createElement(k.Fragment,null,k.createElement(Ke.Q,a()({},se,{isVisible:G,onConfirm:q,hide:Q,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",E,"?"),k.createElement(Ke.Q,a()({},se,{isVisible:ee,onConfirm:te,hide:ie,titleText:ue,confirmText:"Delete",isDestructiveAction:!0}),ke),k.createElement(Ke.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:oe,onConfirm:function(){var e=(0,Z.d0A)(m,s);window.location.replace(e)},hide:me,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},Ve.t),k.createElement(Qe.J,{ariaId:ce,hide:w,isVisible:C,popoverRenderFn:function(){return k.createElement(We.mX,null,k.createElement(We.Sl,null,ae?k.createElement(Fe.r,{linkStyle:"SUBTLE",onClick:(0,Ze.B)(w,re)},"Edit story"):k.createElement(Fe.r,{linkStyle:"SUBTLE",href:(0,Z.d0A)(m,s)},"Edit story")),(t||d&&"User"===i)&&k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:V},R?"Unpin":"Pin"," story")),k.createElement(We.oK,null),k.createElement(We.Sl,null,k.createElement(Fe.r,{href:(0,Z.KIb)(m,s)},"Story settings")),k.createElement(We.Sl,null,k.createElement(Fe.r,{href:(0,Z.T0G)(m,s)},"Story stats")),pe&&v&&(null==h?void 0:h.shareKey)&&k.createElement(Me.$,{post:n,shareKey:null==h?void 0:h.shareKey}),k.createElement(We.oK,null),ve?k.createElement(Ae.r,{hidePopover:w,postId:n.id,allowResponses:g}):null,x&&k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:K},"Remove story from publication")),d&&k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:(0,Ze.B)(w,ne)},"Delete story")),t&&!d&&k.createElement(k.Fragment,null,k.createElement(We.oK,null),f&&he&&xe&&xe>0?k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:function(){return Ee(n,(null==S?void 0:S.id)||"",-xe,h),Se({postId:n.id,clapCount:he-xe,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void w()}},"Undo applause for this post")):null,k.createElement(Ge.z,{targetUserId:N,postId:n.id,hidePopover:w,viewerId:f}),k.createElement(Oe.q,{hidePopover:w,creator:l}),k.createElement(ze.F,{hidePopover:w,creator:l,viewer:S}),k.createElement(He.j,{hidePopover:w,creator:l,viewer:S})))}},k.createElement(Fe.r,{ariaControls:ce,ariaExpanded:C?"true":"false",ariaLabel:"More options",onClick:_},k.createElement(Ye.Z,{className:o(en)}))),k.createElement(qe.F,{isVisible:!!L,hide:function(){return U("")},duration:5e3},k.createElement(ye.F,{scale:"M"},L)))},tn=i(84033),an=i(36511),dn=i(79151),ln=function(e){var n=e.hidePopover,i=e.isDismissDisabled,t=e.onPostDismissed,a=e.postId,d=e.viewerId,l=(0,dn.a)(a),o=r()(l,1)[0];return!d||i?null:k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:function(){o({variables:{postId:a}}),t&&t(a),n()}},"Dismiss this story"))},on=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},rn=function(e){var n=e.post,i=e.viewer,t=(0,B.I)(),a=n.creator,d=null==a?void 0:a.id,l=(0,Je.O)(!1),o=r()(l,3),m=o[0],s=o[1],c=o[2],u="expandablePostCardReaderMenu",p=(0,an.r)().viewerId,v=(0,je.T)(n).viewerEdge,g=(0,tn.jM)(),S=g.mutedAuthorIds,f=g.setMutedAuthorIds,N=g.mutedPubIds,h=g.setMutedPubIds,F=g.dismissedPostIds,y=g.setDismissedPostIds,x=g.isMutingFromHomeFeed,E=k.useCallback((function(e){f([].concat(le()(S),[e]))}),[S]),b=k.useCallback((function(e){h([].concat(le()(N),[e]))}),[N]),P=k.useCallback((function(e){y([].concat(le()(F),[e]))}),[F]),C=(0,Te.I0)(),_=k.useCallback((function(e){return C((0,$e.at)(e))}),[C]),w=(0,H.b$)((function(e){return e.multiVote.clapsPerPost})),I=(0,Xe.l)(w,n,v),D=I.clapCount,T=I.viewerClapCount,R=(0,Le.CP)();if(!d)return null;var O=p&&D&&T&&T>0;return k.createElement(Qe.J,{ariaId:u,hide:c,isVisible:m,popoverRenderFn:function(){return k.createElement(We.mX,null,!!O&&k.createElement(We.Sl,null,k.createElement(Fe.r,{onClick:function(){return R(n,(null==i?void 0:i.id)||"",-T,v),_({postId:n.id,clapCount:D-T,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void c()}},"Undo applause for this post")),k.createElement(ln,{hidePopover:c,onPostDismissed:P,postId:n.id,viewerId:p}),k.createElement(Ge.z,{targetUserId:d,postId:n.id,hidePopover:c,viewerId:p}),k.createElement(Oe.q,{hidePopover:c,creator:a,setMutedAuthorId:E,setMutedPubId:b,isMutingFromHomeFeed:x}),k.createElement(ze.F,{hidePopover:c,creator:a,viewer:i}),k.createElement(He.j,{hidePopover:c,creator:a,viewer:i}))}},k.createElement(Fe.r,{ariaControls:u,ariaExpanded:m?"true":"false",ariaLabel:"More options",onClick:s},k.createElement(Ye.Z,{className:t(on)})))},mn=i(73891),sn=function(e){var n=e.post,i=e.publisherContext,t=(0,D.H)().value,a=(0,mn.gY)(n.collection).viewerEdge,d=!(null==a||!a.isEditor),l=n.creator,o=(null==t?void 0:t.id)===(null==l?void 0:l.id);return t?d||o?k.createElement(nn,{post:n,isEditor:d,isWriter:o,publisherContext:i,creator:l}):k.createElement(rn,{post:n,viewer:t}):null},cn=i(82701),un=i(21356),kn=i(29043),pn=i(72393),vn=i(53976),gn=i(14071);function Sn(){var e=ve()(["\n  fragment ExpandablePostFooter_post on Post {\n    id\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    ...ExpandablePostCardOverflowButton_post\n    ...BookmarkButton_post\n    ...PostFooterSocialPopover_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Sn=function(){return e},e}(0,ge.Ps)(Sn(),cn.D,Ie.z,De.u,un.x);var fn=function(e){var n=e.post,i=e.publisherContext,t=e.isActiveExpandedPost,a=k.useContext(pn.f).openSidebar,d=(0,N.sK)(),l=d.expandedPostId,o=d.postInView,r=(0,we.SK)(),m=n.clapCount,s=n.mediumUrl,c=n.postResponses,u=Boolean(m),p=(null==c?void 0:c.count)||0,v={post:n,source:"expandable_post_footer"},g=(0,vn.VB)({name:"enable_seamless_social_sharing",placeholder:!1});return k.createElement(T.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},k.createElement(T.x,{display:"flex",alignItems:"center"},k.createElement(un.S,{post:n,buttonStyle:"SUBTLE_MARGIN",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),k.createElement(T.x,{display:"flex",alignItems:"center",xl:{marginLeft:u?"24px":"12px"},lg:{marginLeft:u?"24px":"12px"},md:{marginLeft:u?"16px":"8px"},sm:{marginLeft:u?"0":"8px"},xs:{marginLeft:u?"0":"8px"}},k.createElement(Fe.r,{href:s+"?responsesOpen=true"},k.createElement(kn.h,{svgSize:r?"S":void 0,trackingData:{postId:n.id},responsesCount:p,handleClick:o&&l===n.id?function(e){e.preventDefault(),a()}:function(){},allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,responsesCountColor:"DARKER",countStylesOverride:{marginLeft:"4px"}})))),k.createElement(T.x,{display:"flex",alignItems:"center"},t&&g?k.createElement(gn.U,v):k.createElement(De.$,v),k.createElement(T.x,{margin:"0 6px 0 7px"},k.createElement(Ie.e,{post:n,susiEntry:"bookmark_preview"})),i&&k.createElement(T.x,{marginRight:"-4px"},k.createElement(sn,{post:n,publisherContext:i}))))},Nn=i(27721),hn=i(80908),Fn=i(55581),yn=i(90038),xn=i(79810),En=i(27390),bn=function(e){return{color:e.baseColor.text.lighter}},Pn=function(e){var n=e.readingTime,i=e.isLighterText,t=void 0!==i&&i,a=(0,B.I)();if(!n)return null;var d="".concat((0,En.Vd)(n)," min read");return k.createElement("span",{className:t?a(bn):void 0},d)},Cn=i(95248),_n=function(e){var n=e.post,i=e.reason,t=e.publisherContext,a=e.postUrl,d=e.onReadMore,l=n.readingTime,o=n.tags,r=o&&o[0];return k.createElement(T.x,{display:"flex",justifyContent:"space-between"},k.createElement(T.x,{display:"flex",flexGrow:"1",flexShrink:"0",alignItems:"center"},r&&k.createElement(T.x,{paddingRight:"8px"},k.createElement(xn.Pl,{topic:r,scale:"S"})),k.createElement(T.x,null,k.createElement(Fe.r,{onClick:d,href:a,ariaLabel:"Post Preview Reading Time"},k.createElement(ye.F,{scale:"S"},k.createElement(Pn,{readingTime:l})))),i&&k.createElement(k.Fragment,null,k.createElement(T.x,{padding:"0 8px",ariaHidden:"true"},k.createElement(Cn.O,{scale:"S"})),k.createElement(T.x,{sm:{display:"none"}},k.createElement(Fe.r,{onClick:d,href:a,ariaLabel:"Post Preview Reason"},k.createElement(ye.F,{scale:"S"},i))))),k.createElement(T.x,{display:"flex"},k.createElement(T.x,{marginRight:"8px"},k.createElement(Ie.e,{post:n,susiEntry:"bookmark_preview"})),t&&k.createElement(T.x,null,k.createElement(sn,{post:n,publisherContext:t}))))},wn=function(e){var n,i,t,a,d,l=e.post,o=e.postUrl,r=e.onReadMore,m=e.onHoverReadMore,s=e.reason,c=e.titleText,u=e.subTitleText,p=e.publisherContext,v=c||l.title,g=u||(null===(n=l.previewContent)||void 0===n?void 0:n.subtitle);return k.createElement(T.x,null,k.createElement(O.D,{onMouseEnter:m,onMouseLeave:function(){}},k.createElement(T.x,{display:"flex"},k.createElement(T.x,{flexGrow:"1",flexShrink:"1",wordBreak:"break-word"},k.createElement(T.x,null,k.createElement(Fe.r,{onClick:r,href:o,ariaLabel:"Post Preview Title"},v&&k.createElement(T.x,{paddingBottom:{xs:"0",sm:"0",md:"8px",lg:"8px",xl:"8px"}},k.createElement(hn.Dx,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},clamp:{xs:2,sm:2,md:3,lg:3,xl:3}},v)),g&&k.createElement(T.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},k.createElement(Fn.uT,{scale:"XS",clamp:(a=(null==v?void 0:v.length)||0,d=!(null==l||null===(i=l.previewImage)||void 0===i||!i.id),d?a>104?1:a>52?2:3:a>140?1:a>70?2:3)},g)))),k.createElement(T.x,{padding:{xs:"16px 0",sm:"16px 0",md:"32px 0",lg:"32px 0",xl:"32px 0"}},k.createElement(_n,{post:l,reason:s,publisherContext:p,postUrl:o,onReadMore:r}))),(null===(t=l.previewImage)||void 0===t?void 0:t.id)&&k.createElement(T.x,{marginLeft:{xs:"24px",sm:"24px",md:"60px",lg:"60px",xl:"60px"}},k.createElement(Fe.r,{onClick:r,href:o,ariaLabel:"Post Preview Image"},k.createElement(T.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},k.createElement(Nn.UV,{alt:l.title||"",miroId:l.previewImage.id,width:112,height:112,strategy:yn._S.Crop})),k.createElement(T.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},k.createElement(Nn.UV,{alt:l.title||"",miroId:l.previewImage.id,width:56,height:56,strategy:yn._S.Crop})))))))},In=function(){return{opacity:1}},Dn=function(){return{position:"absolute",left:0,right:0,opacity:"0",height:0,overflow:"hidden",transition:"opacity 50ms ease-out"}},Tn=function(){return{transition:"opacity 300ms ease-in",transitionDelay:"50ms",opacity:1}},Rn=function(){return{opacity:"0",height:0,overflow:"hidden",transition:"opacity 0ms ease-in",transitionDelay:"0s"}},On=function(e){var n=e.post,i=e.postUrl,t=e.publisherContext,a=e.reason,d=e.titleText,l=e.subTitleText,o=e.showContent,r=void 0!==o&&o,m=e.showPreview,s=e.children,c=e.onReadMore,u=e.onHoverReadMore,p=(0,B.I)();if(!m)return s;var v=r?[Tn]:[Tn,Rn],g=r?[In,Dn]:[In];return k.createElement(T.x,null,k.createElement(T.x,{position:"relative"},k.createElement("div",{className:p(g)},k.createElement(wn,{post:n,postUrl:i,publisherContext:t,reason:a,titleText:d,subTitleText:l,onReadMore:c,onHoverReadMore:u}))),k.createElement("div",{className:p(v)},s))},Mn=i(10963),An=["100%","95%","93%","98%","98%"],Bn=function(){return k.createElement(T.x,{width:"100%"},An.map((function(e,n){return k.createElement(T.x,{key:"placeholder-".concat(n),width:e,height:"16px",marginBottom:"18px",backgroundColor:"BASE_NORMAL"})})))},Ln=function(){var e=(0,B.I)(),n=(0,Mn.P)();return k.createElement("div",{className:e((function(){return n}))},k.createElement(Bn,null))},Un=function(e){var n=e.onReadMore,i=e.post,t=e.padding,a=void 0===t?"34px 0 0 0":t,d=(0,g.D)(),l=(0,we.SK)(),o=d(i),r=i.readingTime,m=(0,$.Rk)(o,{readmore:"1"});return k.createElement(Fe.r,{href:m,onClick:n,display:"block"},k.createElement(T.x,{padding:a},k.createElement(ye.F,{color:l?"DARKER":"ACCENT",scale:"M"},"Read more · "," ",k.createElement(Pn,{readingTime:r,isLighterText:l}))))},Vn=function(e){var n=e.href,i=e.onReadMore,t=(0,B.I)();return k.createElement(Fe.r,{href:n,onClick:i},k.createElement("div",{className:t((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))};function jn(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Wn(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?jn(Object(i),!0).forEach((function(n){l()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jn(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var zn=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Hn={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},Gn={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},Kn=[y.NJ.H3,y.NJ.H4],Qn=[y.NJ.IMG,y.NJ.IFRAME],qn=function(e){var n,i,t,d,o,m,y=e.post,x=e.excludeMargin,E=void 0!==x&&x,b=e.includeTopDivider,P=void 0===b||b,C=e.includeBottomDivider,G=void 0!==C&&C,J=e.isFirst,X=void 0!==J&&J,ee=e.publisher,ne=e.hideAuthor,ie=void 0!==ne&&ne,te=e.index,de=e.maxWidthSize,le=void 0===de?"inset":de,oe=e.showInResponseToEntityPreview,re=void 0!==oe&&oe,me=e.mayShowPinned,se=void 0!==me&&me,ce=e.showHighDensityPreview,ue=void 0!==ce&&ce,pe=e.highDensityPreviewReason,ve=e.showBylinePublisherInfo,ge=void 0!==ve&&ve,Se=e.isMediumApp,fe=void 0!==Se&&Se,Ne=!!(0,D.H)().value,he=fe?"app":le,Fe=k.useRef(null),ye=k.useRef(null),xe=k.useRef(null),Ee=k.useState(!1),be=r()(Ee,2),Pe=be[0],Ce=be[1],we=(0,N.sK)(),Ie=we.expandedPostId,De=we.setExpandedPostId,Te=we.expandedPost,Re=we.setExpandedPost,Oe=we.postInView,Me=we.setPostInView,Ae=we.clearExpandedState,Be=(null==Te?void 0:Te.id)===y.id,Le=(0,q.D)(Te),Ue=(0,B.I)(),Ve=(0,M.Av)(),je=(0,z.G1)(),We=(0,A.Lk)(),ze=Wn(Wn({},We),{},{index:te}),He=(0,z.he)(),Ge=(0,H.v9)((function(e){return e.navigation.referrer}));Be&&(Ge=He);var Ke=(0,g.D)(),Qe=(0,A.f0)(ze),qe=Ke(y),$e=(0,$.Rk)(qe,{source:Qe});(0,L.t)(Ne,Fe,Te,Be);var Ye=k.useRef(null);(0,U.V)(Ye,y,Be);var Ze=y.id,Je=y.collection,Xe=y.extendedPreviewContent,en=y.isLocked,nn=y.firstPublishedAt,tn=y.latestPublishedAt,an=y.mediumUrl,dn=y.pinnedAt,ln=y.pinnedByCreatorAt,on=y.visibility,rn=y.inResponseToPostResult,mn=y.inResponseToMediaResource,sn=y.inResponseToCatalogResult,cn=(0,p.k6)(),un=(0,z.PM)();We&&Be&&(un=(0,A.f0)(We));var kn={referrer:Ge,sk:je,source:un},pn=(0,u.useLazyQuery)(ke,{variables:{postId:y.id,postMeteringOptions:kn}}),vn=r()(pn,2),gn=vn[0],Sn=vn[1],Nn=Sn.called,hn=Sn.data,Fn=Sn.loading,yn=Sn.error,xn=null==hn?void 0:hn.meterPost;k.useEffect((function(){if(!Fn&&Ie===y.id){var e=new URL($e).pathname;if(yn)cn.push({pathname:e});else if(Nn){var n=null==hn?void 0:hn.postResult;if((0,Y.f)(n)){try{var i=function(e,n){var i,t,a,d,l,o,r,m;if(null==e||null===(i=e.extendedPreviewContent)||void 0===i||null===(t=i.bodyModel)||void 0===t||null===(a=t.paragraphs)||void 0===a||!a.length)throw new Error("Expected post to have preview content.");e.extendedPreviewContent.bodyModel.paragraphs;var c=new Map;null!=e&&null!==(d=e.extendedPreviewContent)&&void 0!==d&&null!==(l=d.bodyModel)&&void 0!==l&&null!==(o=l.paragraphs)&&void 0!==o&&o.length&&e.extendedPreviewContent.bodyModel.paragraphs.forEach((function(e){c.set(e.name,e)}));var u=[],k=(e.content.bodyModel.paragraphs,[]);null!=e&&null!==(r=e.content)&&void 0!==r&&null!==(m=r.bodyModel)&&void 0!==m&&m.paragraphs&&e.content.bodyModel.paragraphs.forEach((function(e){var n,i,t=c.get(e.name);t&&(null===(n=t.text)||void 0===n?void 0:n.length)===(null===(i=e.text)||void 0===i?void 0:i.length)?u.push(t):k.push(e)}));var p=[].concat(u,k);return s()({},e,{content:Wn(Wn(Wn({},e.extendedPreviewContent),e.content),{},{isFullContent:!0,bodyModel:Wn(Wn(Wn({},e.extendedPreviewContent.bodyModel),e.content.bodyModel),{},{paragraphs:_(p,n,!1)})})})}(n,$e);De(i.id),Re(i)}catch(n){cn.push({pathname:e})}Ce(!1)}else cn.push({pathname:e})}else gn()}}),[Ie,Nn,Fn,hn,yn,$e]),k.useEffect((function(){var e,n;Be&&(Ve.event("post.clientViewed",{postId:y.id,collectionId:null===(e=y.collection)||void 0===e?void 0:e.id,collectionSlug:null===(n=y.collection)||void 0===n?void 0:n.slug,context:2,source:"post_page"},{referrer:Ge,referrerSource:un}),Ve.event("client.navigate",{metadata:{},newPath:qe||"",oldPath:Ge||"",source:un||""}))}),[Be]);var En=k.useCallback((function(e){var n;e&&e.preventDefault(),Ce(!0);var i=null===(n=ye.current)||void 0===n?void 0:n.getBoundingClientRect();null!=i&&i.top&&(xe.current=i.top),De(y.id)}),[]),bn=k.useCallback((function(){Nn||gn()}),[Nn]);(0,Q.L)((function(){var e,n=null===(e=ye.current)||void 0===e?void 0:e.getBoundingClientRect();if(null!=Te&&Te.id&&Be&&n){var i=n.top-(xe.current||0);Boolean(i)&&null!=Le&&Le.id&&Le.id!==Te.id&&window.scrollBy(0,i)}}),[null==Te?void 0:Te.id,Be]);var Pn=cn.location,Cn=k.useCallback((function(e){if(null!=Te&&Te.id&&e){var n=new URL($e).pathname,i=(0,c.parse)(Pn.search.slice(1)).p===y.id||n===Pn.pathname,t=!!e.intersectionRatio;if(!t&&i)return Me(!1),void cn.goBack();if(t&&!i){var a,d,l=(null===(a=Pn.state)||void 0===a?void 0:a.preExpandedLocation)||Pn,o={pathname:Pn.pathname,search:"?p=".concat(Te.id),state:{preExpandedLocation:l}};return fe&&(o={pathname:n,state:{preExpandedLocation:l}}),window.history.scrollRestoration="manual",Me(!0),void(null!==(d=Pn.state)&&void 0!==d&&d.preExpandedLocation?cn.replace(o):cn.push(o))}}}),[y.id,null==Te?void 0:Te.id,cn,Pn,$e]),_n=k.useCallback((function(){return!Be}),[Be]);(0,V.S)({onIntersect:Cn,target:ye,disconnect:_n},[Be,Cn]);var wn=(0,W.$B)(Pn.pathname);if(k.useEffect((function(){var e=wn?(0,Z.mrd)(wn):null;Oe?"post"===(null==wn?void 0:wn.route.mediumAppPage)&&e===Ie||Ae():"post"===(null==wn?void 0:wn.route.mediumAppPage)&&e===y.id&&(En(),ye.current&&ye.current.scrollIntoView(!0))}),[null==wn?void 0:wn.route.mediumAppPage,null==wn?void 0:wn.params.postId]),null==y||null===(n=y.extendedPreviewContent)||void 0===n||!n.bodyModel)return null;var In=null==y||null===(i=y.extendedPreviewContent)||void 0===i?void 0:i.bodyModel;if(!In)return null;var Dn=Wn(Wn({},In),{},{paragraphs:_(In.paragraphs,$e)}),Tn=!!dn&&!!tn,Rn=Tn?tn:nn,Mn=Tn?"Updated ":"",An=!(null==y||null===(t=y.extendedPreviewContent)||void 0===t||!t.isFullContent),Bn=P&&!X&&k.createElement("hr",{className:Ue(zn)}),jn=G&&k.createElement("hr",{className:Ue(zn)}),qn=fe?{}:X?Hn:Gn,$n={postId:Ze,collectionId:null==Je?void 0:Je.id,isFullPost:null==Xe?void 0:Xe.isFullContent,postVisibility:(0,w.z)(on),context:2,pinned:Boolean(dn)},Yn="User"===(null==ee?void 0:ee.__typename)&&y.collection?y.collection:y.creator,Zn="User"===(null==ee?void 0:ee.__typename)?ln:dn,Jn=(0,h.LI)(Dn.paragraphs),Xn="number"==typeof Jn.titleIndex?void 0:40,ei=k.createElement(k.Fragment,{key:"card-byline-and-mixtape"},fe&&y.creator?k.createElement(_e,{creator:y.creator,collection:y.collection,href:$e,datePrefix:Mn,publishedAt:Rn,showStar:!!en,showPinned:se&&!!Zn,post:y,showPublisherInfo:ge}):Yn&&k.createElement(I.u_,{publisher:Yn,hideAuthor:ie,href:$e,isOneLine:!0,datePrefix:Mn,publishedAt:Rn,showStar:!!en,showPinned:se&&!!Zn,post:y}),re&&k.createElement(f.hM,{inResponseToCatalogResult:sn,inResponseToPostResult:rn,inResponseToMediaResource:mn,padding:"24px 0 0",postPreviewMarginBottom:Xn})),ni=Dn.paragraphs[0]&&Qn.includes(Dn.paragraphs[0].type)&&Dn.paragraphs[0].name,ii=Dn.paragraphs[1]&&Kn.includes(Dn.paragraphs[1].type)&&Dn.paragraphs[1].name,ti=ee||y.creator,ai=!(An||Be||Pe||!an||!ti),di=en&&(2===Dn.paragraphs.length||3===Dn.paragraphs.length)&&1===In.sections.length&&ii&&ni,li=Dn.paragraphs[0],oi=Dn.paragraphs[1],ri={insertType:"BYLINE",order:"before",component:ei},mi={insertType:"MEDIA_OVERLAY",order:"after",component:k.createElement(Vn,{key:"shortform-media-overlay-insert",href:$e,onReadMore:En})},si=null!=oi&&oi.name&&null!=li&&li.name?(d={},l()(d,oi.name,[ri]),l()(d,li.name,[mi]),d):{},ci=di&&!Be,ui=!ue||Be,ki="number"==typeof Jn.titleIndex?Dn.paragraphs[Jn.titleIndex].text:null,pi="number"==typeof Jn.subtitleIndex?Dn.paragraphs[Jn.subtitleIndex].text:null;return fe&&(!pi||pi.length<400)&&(pi=Dn.paragraphs.reduce((function(e,n,i){return i!==Jn.titleIndex&&i!==Jn.subtitleIndex&&!Qn.includes(n.type)&&(null===e||e.length<400)?null===e?n.text:e+" "+n.text:e}),null!==pi?pi+" — ":null)),k.createElement(A.cW,{source:ze},k.createElement(T.x,a()({ref:ye,boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},E?{}:qn),k.createElement(R.P,{size:he},Bn,k.createElement(j.o,{post:y,presentationContext:"POST_PREVIEW",isDisplayingFullPost:An||Be,suppressedEvents:An?"VIEWED":void 0,shouldReportClientViewed:Be,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!dn},k.createElement(T.x,{paddingTop:Bn?di?{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}:"24px":void 0},Yn&&!di&&ei,fe&&Be&&k.createElement(ae,{expansionRef:ye,basePostUrl:qe,referrer:Ge,referrerSource:un}),k.createElement(T.x,{marginTop:di?"":"12px",ref:Ye},k.createElement(K,{event:{eventName:"post.permalinkClicked",data:Wn(Wn({},$n),{},{interfaceElement:"title"})}},k.createElement(On,{post:y,postUrl:$e,reason:pe,publisherContext:null===(o=y.creator)||void 0===o?void 0:o.__typename,showPreview:ue,showContent:Pe||Be,titleText:ki,subTitleText:pi,onReadMore:En,onHoverReadMore:bn},k.createElement(k.Fragment,null,k.createElement(F.b,{isAuroraPostPageEnabled:!0,post:Be?Te:null,inlinePost:y,ref:Fe,richTextStyle:ci?"SHORTFORM_CARD":"INLINE",postBodyInserts:ci?si:null,markedUpBodyModel:Dn}),Pe&&k.createElement(T.x,{paddingTop:"24px"},k.createElement(Ln,null))))))),ai&&!ue&&k.createElement(O.D,{onMouseEnter:bn,onMouseLeave:function(){}},k.createElement(Un,{onReadMore:En,post:y,padding:di?"24px 0 0 0":void 0})),Te&&xn&&Be&&k.createElement(S.cu,{post:Te,meteringInfo:xn,excludePadding:!0}))),k.createElement(T.x,{marginTop:ue&&!Be?void 0:"36px"}),y&&ui&&k.createElement(v.T,{isDockingEnabled:fe&&Be,maxWidthSize:he},k.createElement(fn,{post:y,publisherContext:null===(m=y.creator)||void 0===m?void 0:m.__typename,isActiveExpandedPost:Be})),ue&&Be&&k.createElement(T.x,{paddingBottom:"32px"})),G&&k.createElement(R.P,{size:he},jn))}},82701:(e,n,i)=>{"use strict";i.d(n,{D:()=>m});var t=i(319),a=i.n(t),d=i(28233),l=i(76992),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat(a()(d.x.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()(l.JP.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardReaderButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat(a()(l.JP.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardOverflowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardReaderButton_post"}}]}}].concat(a()(o.definitions),a()(r.definitions))}},15409:(e,n,i)=>{"use strict";i.d(n,{D:()=>l,Z:()=>o});var t=i(319),a=i.n(t),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropCap_image"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"DropCap_image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}}]))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"Field",name:{kind:"Name",value:"dropCapImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"}}]}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}}]}}].concat(a()(d.definitions))}},76992:(e,n,i)=>{"use strict";i.d(n,{JP:()=>l});var t=i(319),a=i.n(t),d=i(36896),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(a()(d.U.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]),a()(l.definitions))},56373:(e,n,i)=>{"use strict";i.d(n,{x:()=>o});var t=i(319),a=i.n(t),d=i(32018),l=i(36896),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVote_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(a()(d.Vm.definitions),a()(d.qU.definitions),a()(l.U.definitions))}},36896:(e,n,i)=>{"use strict";i.d(n,{U:()=>a});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostVotersNetwork_post"}}]}}].concat(i.n(t)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostVotersNetwork_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"recommenders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))}},47137:(e,n,i)=>{"use strict";i.d(n,{M:()=>s,u:()=>c});var t=i(319),a=i.n(t),d=i(16831),l=i(61598),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(d.W.definitions),a()(l.$m.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_noteReply"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NoteReply"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"noteId"}},{kind:"Field",name:{kind:"Name",value:"postId"}}]}}].concat(a()(o.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"content"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"replies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_noteReply"}}]}},{kind:"Field",name:{kind:"Name",value:"selectionStartOffset"}},{kind:"Field",name:{kind:"Name",value:"selectionEndOffset"}}]}}].concat(a()(o.definitions),a()(r.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAnnotationsMarker_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_paragraph"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostViewNoteCard_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostViewNoteCard_privateNote"}}]}}].concat(a()(m.definitions))}},19194:(e,n,i)=>{"use strict";i.d(n,{Rg:()=>r,m8:()=>m,hz:()=>s});var t=i(319),a=i.n(t),d=i(15409),l=i(50122),o=i(47137),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat(a()(d.Z.definitions),a()(l.p.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_highlight"}}]}}].concat(a()(d.D.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostAnnotationsMarker_privateNote"}}]}}].concat(a()(o.u.definitions))}},93912:(e,n,i)=>{"use strict";i.d(n,{z:()=>t});var t=function(e){switch(e){case"PUBLIC":return 0;case"UNLISTED":return 1;case"LOCKED":return 2;default:return}}},91538:(e,n,i)=>{"use strict";i.d(n,{yu:()=>r,br:()=>m,We:()=>s,Gk:()=>c});var t=i(319),a=i.n(t),d=i(84294),l=i(61598),o=i(82143),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CardByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}}]}}].concat(a()(d.t.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CardByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}}].concat(a()(l.$m.definitions),a()(o.O.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CardByline_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(l.nf.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CardByline_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_user"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_collection"}}]}}]}}].concat(a()(m.definitions),a()(s.definitions))}},50077:(e,n,i)=>{"use strict";i.d(n,{Q5:()=>M,u_:()=>A,yu:()=>B,Gk:()=>V});var t=i(28655),a=i.n(t),d=i(63038),l=i.n(d),o=i(71439),r=i(67294),m=i(83687),s=i(36823),c=i(10734),u=i(32523),k=i(95482),p=i(92013),v=i(31635),g=i(9292),S=i(41832),f=i(82143),N=i(52862),h=i(98024),F=i(98701),y=i(77180),x=i(6688),E=i(7650),b=i(61598);function P(){var e=a()(["\n  fragment CardByline_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      ...CardByline_user\n    }\n    ... on Collection {\n      id\n      ...CardByline_collection\n    }\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}function C(){var e=a()(["\n  fragment CardByline_collection on Collection {\n    __typename\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return C=function(){return e},e}function _(){var e=a()(["\n  fragment CardByline_user on User {\n    __typename\n    id\n    name\n    username\n    mediumMemberAt\n    socialStats {\n      followerCount\n    }\n    ...userUrl_user\n    ...UserMentionTooltip_user\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}function w(){var e=a()(["\n  fragment CardByline_post on Post {\n    ...DraftStatus_post\n  }\n  ","\n"]);return w=function(){return e},e}var I=function(e){return{fill:e.baseColor.fill.light,marginTop:"-2px",paddingLeft:"4px"}};function D(e,n){return n&&(0,F.nE)(e)?e[n]:e}var T=function(e){var n=e.author,i=e.forceSize,t=e.scale,a=void 0===t?"M":t,d=r.useState(0),o=l()(d,2),m=o[0],c=o[1],k=(0,y.F)(),p=(0,s.B)(n);if(r.useEffect((function(){m||c(window.innerWidth)}),[]),!n||!n.name)return null;var v=m<=k.breakpoints.sm,g=r.createElement(u.g,{href:p},r.createElement(h.F,{color:"ACCENT",scale:D(a,i)},n.name));return v?g:r.createElement(N.$,{placement:"right",targetDistance:15,mouseLeaveDelay:200,popoverRenderFn:function(){return r.createElement(S.K,{user:n})}},g)},R=function(e){var n=e.collection,i=e.forceSize,t=e.scale,a=void 0===t?"M":t,d=(0,m.R)(n);return r.createElement(u.g,{href:d},r.createElement(h.F,{scale:D(a,i),color:"DARKER"},"Published in ",r.createElement(c.t,{collection:n})))},O=function(e){var n=e.small,i=void 0!==n&&n,t=e.hideDot,a=void 0!==t&&t,d=(0,x.I)();return r.createElement("span",{className:d({margin:"0 ".concat(i?4:7,"px")})},a?null:"·")},M=function(e){var n=e.datePrefix,i=void 0===n?"":n,t=e.forceSize,a=e.isOneLine,d=e.withMidDot,l=void 0===d||d,o=e.href,m=e.onClick,s=e.publishedAt,c=e.scale,g=void 0===c?"M":c,S=e.showStar,f=void 0!==S&&S,N=e.showPinned,F=void 0!==N&&N,y=e.timeColor,b=void 0===y?"LIGHTER":y,P=e.timeToRead,C=e.post,_=(0,x.I)();if(!s&&!P)return null;var w=a?p.h:k.E;return r.createElement(u.g,{href:o,onClick:m},r.createElement(h.F,{color:b,scale:D(g,t)},a&&l&&r.createElement(O,{small:!0,hideDot:!!P&&!!s}),s&&!F?r.createElement(r.Fragment,null,i,r.createElement(w,{hasPrefix:!(!a||!i)||void 0,timestamp:s})):null,F?r.createElement("span",null,"Pinned"):null,s&&P?r.createElement(O,null):null,P||null,!s&&r.createElement(r.Fragment,null,r.createElement(O,{small:a}),r.createElement(h.F,{color:"DARKER",scale:D(g,t),tag:"span"},r.createElement(v.FV,{post:C}))),f&&r.createElement(E.Z,{className:_(I)})))},A=function(e){var n=e.avatar,i=void 0===n?null:n,t=e.datePrefix,a=e.forceSize,d=e.hideAuthor,l=void 0!==d&&d,o=e.href,m=e.onClick,s=e.isOneLine,c=void 0!==s&&s,u=e.publisher,k=e.publishedAt,p=e.scale,v=e.showStar,S=void 0!==v&&v,f=e.showPinned,N=void 0!==f&&f,h=e.timeColor,F=e.timeToRead,y=e.post,x="Collection"===u.__typename?r.createElement(R,{collection:u,forceSize:a,scale:p}):l?null:r.createElement(T,{author:u,forceSize:a,scale:p}),E="Collection"===u.__typename||!l;return r.createElement(g.Y,{avatar:l?null:i,isOneLine:c,title:x,description:r.createElement(M,{datePrefix:t,publishedAt:k,timeToRead:F,withMidDot:E,href:o,onClick:m,showStar:S,showPinned:N,forceSize:a,scale:p,timeColor:h,isOneLine:c,post:y})})},B=(0,o.Ps)(w(),v.tV),L=(0,o.Ps)(_(),b.$m,f.O),U=(0,o.Ps)(C(),b.nf),V=(0,o.Ps)(P(),L,U)},28233:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},24276:(e,n,i)=>{"use strict";i.d(n,{w:()=>l});var t=i(319),a=i.n(t),d=i(85785),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CustomBackgroundWrapper_customStyleSheet"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CustomStyleSheet"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"global"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorPalette"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getHexFromColorValue_colorValue"}}]}}]}}]}}]}}].concat(a()(d.xW.definitions))}},56365:(e,n,i)=>{"use strict";i.d(n,{f:()=>p,w:()=>v});var t=i(28655),a=i.n(t),d=i(67154),l=i.n(d),o=i(6479),r=i.n(o),m=i(71439),s=i(67294),c=i(85489),u=i(42933);function k(){var e=a()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var p=function(e){var n=e.children,i=e.customStyleSheet,t=r()(e,["children","customStyleSheet"]);return s.useMemo((function(){var e,n;return(0,c.eQ)(null==i||null===(e=i.global)||void 0===e||null===(n=e.colorPalette)||void 0===n?void 0:n.background)}),[i])?s.createElement(u.x,l()({backgroundColor:"BACKGROUND"},t),n):s.createElement(u.x,t,n)},v=(0,m.Ps)(k(),c.xW)},72350:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},32149:(e,n,i)=>{"use strict";i.d(n,{G:()=>l});var t=i(28655),a=i.n(t);function d(){var e=a()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return d=function(){return e},e}var l=(0,i(71439).Ps)(d())},23278:(e,n,i)=>{"use strict";i.d(n,{o:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SharePostButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},14071:(e,n,i)=>{"use strict";i.d(n,{E:()=>u,U:()=>k});var t=i(28655),a=i.n(t),d=i(71439),l=i(67294),o=i(49549),r=i(32272),m=i(42933),s=i(51512);function c(){var e=a()(["\n  fragment SharePostButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    mediumUrl\n    ...SharePostButton_post\n  }\n  ","\n"]);return c=function(){return e},e}var u=(0,d.Ps)(c(),r.o);function k(e){var n=e.post,i=e.source,t="UNLISTED"===n.visibility;return l.createElement(l.Fragment,null,l.createElement(s.cW,{source:{name:i}},l.createElement(m.x,{flexGrow:"0",paddingRight:"1px"},!t&&l.createElement(r.f,{socialPlatform:"TWITTER",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),l.createElement(m.x,{flexGrow:"0",paddingRight:"1px"},!t&&l.createElement(r.f,{socialPlatform:"FACEBOOK",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),l.createElement(m.x,{flexGrow:"0",paddingRight:"1px"},!t&&l.createElement(r.f,{socialPlatform:"LINKEDIN",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n}))),l.createElement(m.x,{flexGrow:"0"},!t&&n.mediumUrl&&l.createElement(o._,{url:n.mediumUrl,copyStyle:n.isLimitedState?"ICON_DISABLED":"ICON",source:i,reportData:{postId:n.id}})))}},37258:(e,n,i)=>{"use strict";i.d(n,{o:()=>h});var t=i(63038),a=i.n(t),d=i(28655),l=i.n(d),o=i(71439),r=i(80439),m=i(67294),s=i(66893),c=i(36511),u=i(90738),k=i(14414),p=i(95760),v=i(51512),g=i(11348),S=i(67297);function f(){var e=l()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return f=function(){return e},e}var N=(0,o.Ps)(f()),h=function(e){var n=e.actionUrl,i=e.children,t=e.onSuccess,d=e.token,l=e.userId,o=(0,p.Av)(),f=!!(0,s.P5)("skip_sign_in_recaptcha"),h=m.useState(!1),F=a()(h,2),y=F[0],x=F[1],E=(0,S.v9)((function(e){return e.navigation.currentLocation})),b=function(){x(!1)},P=(0,v.pK)(),C=(0,v.hp)(),_=n&&d?(0,k.hQ)(E,P,C,n,d):(0,k.hQ)(E,P,C),w=(0,c.r)(),I=w.loading,D=w.error,T=w.viewerId;return I||D?null:m.createElement(r.mm,{mutation:N,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":o.event("site.loginLinkSent",{}),t&&t();break;case"FailedChallenge":o.event("site.loginByEmailCaptchaFailure",{}),x(!1);break;case"BadRequest":case"NotFound":default:b()}},onError:b},(function(e){var n=function(n){(0,g.Zs)(!0,T,l,"Email",!1);var i="medium";o.event("susi.methodClicked",{entryPoint:C,operation:"login",susiMethod:i.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:i.toLowerCase(),alternateUserSuggestionTargetUserId:l,alternateUserSuggestionSourceUserId:T}),e({variables:{userId:l,redirect:_,captchaValue:n}})};return m.createElement(m.Fragment,null,!f&&m.createElement(u.k,{callback:n,shouldExecuteRecaptcha:y}),i({handleSubmit:function(){return f?n(null):x(!0)}}))}))}},19608:(e,n,i)=>{"use strict";i.d(n,{r:()=>r});var t=i(67294),a=i(90174),d=i(4134),l=i(70146),o=i(37581),r=function(e){var n=e.actionUrl,i=e.token,r=e.userSocialLogins,m={actionUrl:n||"",operation:"login",token:i||"",targetUserId:r.userId,alternateUserSuggestion:!0};return t.createElement(o.$,{eventData:{operation:m.operation}},r.google?t.createElement(d.x,m):r.facebook?t.createElement(a.q,m):r.twitter?t.createElement(l.G,m):t.createElement(t.Fragment,null))}},27168:(e,n,i)=>{"use strict";i.d(n,{G:()=>k});var t=i(59713),a=i.n(t),d=i(67294),l=i(12291),o=i(76532),r=i(82318),m=i(51512),s=i(85277),c=i(67297);function u(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var k=function(e){var n=e.declineSuggestedAccount,i=e.isSocial,t=(0,c.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),k=(0,m.hp)(),p=(0,l.I0)(),v=(0,o.H)(),g=v.loading,S=v.error,f=v.value;if(g||S)return d.createElement(d.Fragment,null);var N=function(e){return e?d.createElement(r.r,{onClick:function(){return h("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):d.createElement(d.Fragment,null,"Not you?"," ",d.createElement(r.r,{onClick:function(){return h("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",d.createElement(r.r,{onClick:function(){return h("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},h=function(e){var i="SIGNIN_OPTIONS"===e?"login":"register";n(),p((0,s.Pc)(function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?u(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({operation:i,step:e},!!k&&{susiEntry:k})))};return t?N(f):f?d.createElement(r.r,{onClick:function(){return n()}},"Not me"):N(i)}},48881:(e,n,i)=>{"use strict";i.d(n,{o:()=>F});var t=i(28655),a=i.n(t),d=i(59713),l=i.n(d),o=i(63038),r=i.n(o),m=i(71439),s=i(80439),c=i(67294),u=i(76532),k=i(36511),p=i(95760),v=i(51512),g=i(33572),S=i(8403);function f(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return f=function(){return e},e}function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function h(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){l()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var F=function(e){var n=e.children,i=e.postRenderCallback,t=(0,p.Av)(),a=(0,v.hp)(),d=(0,S.PM)(),l=(0,v.P7)(d||""),o=l.userId,m=l.name,f=c.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),N=r()(f,2),F=N[0],x=N[1];c.useEffect((function(){var e=F.shouldRun,n=F.showSuggestedAccount,t=F.userSocialLogins;e&&i(E,n,t)}),[F.shouldRun]);var E=(0,u.H)().value,b=(0,k.r)(),P=b.loading,C=b.error,_=b.viewerId;if(P||C)return null;var w=!("email"!==m||E&&E.mediumMemberAt||!o);return w&&o?c.createElement(s.AE,{query:y,variables:{userId:o}},(function(e){var d=e.loading,l=e.error,o=e.data,r=(o=void 0===o?{}:o).userSocialLogins,m=!(d||l||!r||E&&!r.isMember||!r.facebook&&!r.google&&!r.twitter&&!r.redactedEmailAddress),s=h({loading:d,showSuggestedAccount:m},m&&{userSocialLogins:r,declineSuggestedAccount:function(){var e=(0,g.S)(r);t.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==r?void 0:r.userId,alternateUserSuggestionSourceUserId:_})}});return!i||d||F.shouldRun||x({shouldRun:!0,showSuggestedAccount:m,userSocialLogins:r}),n(s)})):(i&&!F.shouldRun&&x(h(h({},F),{},{shouldRun:!0})),n({showSuggestedAccount:w,loading:!1}))},y=(0,m.Ps)(f())},5731:(e,n,i)=>{"use strict";var t;i.d(n,{j:()=>t}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(t||(t={}))},37931:(e,n,i)=>{"use strict";i.d(n,{h:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]}},15699:(e,n,i)=>{"use strict";i.d(n,{o:()=>p,h:()=>v});var t=i(28655),a=i.n(t),d=i(71439),l=i(67294),o=i(93912),r=i(95760),m=i(51512),s=i(6688),c=i(19551);function u(){var e=a()(["\n  fragment PostPresentationTracker_post on Post {\n    id\n    visibility\n    previewContent {\n      isFullContent\n    }\n    collection {\n      id\n      slug\n    }\n  }\n"]);return u=function(){return e},e}var k={width:"100%",height:"100%"};function p(e){var n=e.post,i=e.presentationContext,t=e.suppressedEvents,a=e.children,d=e.isDisplayingFullPost,u=e.reportClientViewedOnFullPost,p=e.postClientViewedContext,v=e.pinned,g=e.shouldReportClientViewed,S=void 0===g||g,f=(0,s.I)(),N=(0,r.Av)(),h=(0,m.pK)(),F=l.useCallback((function(){if(n&&"ALL"!==t){var e=n.visibility,a=n.previewContent,l=n.collection,r=null!==d?d:a&&a.isFullContent;"PRESENTED"!==t&&N.event("post.clientPresented",{postId:n.id,source:h,collectionId:l?l.id:null,isFullPost:r,pinned:v,postVisibility:(0,o.z)(e),context:"POST_PREVIEW"!==i?i.toLowerCase():null}),u&&r&&"VIEWED"!==t&&S&&N.event("post.clientViewed",{postId:n.id,source:h,collectionId:l?l.id:null,collectionSlug:l?l.slug:null,context:p,isFriendLink:!1,pinned:v})}}),[n,t,i,v]),y=(0,c.g)({onPresentedFn:F});return l.createElement("div",{className:f(k),ref:y},a)}var v=(0,d.Ps)(u())},58491:(e,n,i)=>{"use strict";i.d(n,{t:()=>f,W:()=>N});var t=i(28655),a=i.n(t),d=i(63038),l=i.n(d),o=i(71439),r=i(67294),m=i(12291),s=i(50188),c=i(95760),u=i(51512),k=i(27108),p=i(85277),v=i(8403),g=i(21146);function S(){var e=a()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return S=function(){return e},e}function f(e,n,i,t){var a=(0,c.Av)(),d=(0,u.pK)(),o=(0,v.he)(),S=r.useState(!1),f=l()(S,2),N=f[0],h=f[1],F=(0,m.I0)();r.useEffect((function(){if(!N&&i){var l=function(){if(n.current&&!N){var l=(0,g.L6)(n.current),r=(0,g.tM)(l),m=r.top+r.height,c=(0,g.tM)((0,g.t_)()),u=c.top+c.height,k=i.content.isLockedPreviewOnly,v=t||d.includes("post_page");if(!k&&u>=m-100&&v){h(!0),F((0,p.C2)(!0));var S={source:t?"post_page":d,postId:i.id,collectionSlug:i.collection?i.collection.slug:"",sequenceId:i.sequence?i.sequence.sequenceId:""},f={referrer:o,referrerSource:d};t?a.event("post.clientRead",S,f):a.event("post.clientRead",S),e||(0,s.T8)(i.id)}}};return k.V6.on("scroll_end",l),function(){k.V6.off("scroll_end",l)}}}),[N,i,t]),r.useEffect((function(){return function(){F((0,p.C2)(!1))}}),[])}var N=(0,o.Ps)(S())},66210:(e,n,i)=>{"use strict";i.d(n,{V:()=>v,k:()=>g});var t=i(28655),a=i.n(t),d=i(23493),l=i.n(d),o=i(71439),r=i(67294),m=i(95760),s=i(51512),c=i(27108),u=i(8403),k=i(21146);function p(){var e=a()(["\n  fragment PostScrollTracker_post on Post {\n    id\n    collection {\n      id\n    }\n    sequence {\n      sequenceId\n    }\n  }\n"]);return p=function(){return e},e}function v(e,n,i,t){var a=(0,m.Av)(),d=(0,s.pK)(),o=(0,u.he)(),p=(0,s.Qi)(),v=Date.now(),g=null,S=r.useCallback(l()((function(){if(e.current){var t=(0,k.L6)(e.current);if((0,k.pn)(t)){var l=Date.now(),r=(0,k.tM)(t),m=(0,k.UO)(),s=(0,k.t_)(),c=Math.round(r.top),u=Math.round(r.top+r.height),S=m.top,f=m.top+s.height,N=m.height,h={postIds:[n.id],collectionIds:[n.collection?n.collection.id:""],sequenceIds:[n.sequence?n.sequence.sequenceId:""],sources:i?["post_page"]:[p],tops:[c],bottoms:[u],areFullPosts:[!0],loggedAt:l,timeDiff:null!==g?Math.round(l-g):0,scrollTop:S,scrollBottom:f,scrollableHeight:N,viewStartedAt:v},F={referrer:o,referrerSource:d};i?a.event("post.streamScrolled",h,F):a.event("post.streamScrolled",h),g=l}}}),1e3),[n,i]);r.useEffect((function(){S();var e=null!=t&&t.current?(0,c.jC)(null==t?void 0:t.current):c.V6;return e.on("scroll_end",S),function(){e.off("scroll_end",S)}}),[S])}var g=(0,o.Ps)(p())},50294:(e,n,i)=>{"use strict";i.d(n,{_:()=>r});var t=i(319),a=i.n(t),d=i(87328),l=i(24276),o=i(61598),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionLandingPageScreen_writer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"isPartnerProgramEnrolled"}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CustomThemeProvider_customStyleSheet"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CustomBackgroundWrapper_customStyleSheet"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(d.K.definitions),a()(l.w.definitions),a()(o.$m.definitions))}},2874:(e,n,i)=>{"use strict";i.d(n,{d0:()=>M,_k:()=>A});var t=i(28655),a=i.n(t),d=i(71439),l=i(67294),o=i(60046),r=i(62872),m=i(43689),s=i(51562),c=i(47578),u=i(56365),k=i(10103),p=i(71542),v=i(76532),g=i(62181),S=i(11852),f=i(75209),N=i(42933),h=i(55099),F=i(82318),y=i(98024),x=i(17614),E=i(95760),b=i(51512),P=i(67297),C=i(6522),_=i(96879),w=i(27952),I=i(61598);function D(){var e=a()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n      ...CustomBackgroundWrapper_customStyleSheet\n    }\n    ...userUrl_user\n  }\n  ","\n  ","\n  ","\n"]);return D=function(){return e},e}var T="entity-driven-sub-landing-page",R=function(){return l.createElement(r.l,{borderColor:"rgb(230 230 230)",height:m.Je,heightSm:m.R2},l.createElement(f.P,null,l.createElement(N.x,{display:"flex",alignItems:"center",height:"".concat(m.Je,"px"),sm:{height:"".concat(m.R2,"px")},flexDirection:"row"},l.createElement(N.x,{justifySelf:"flex-start",flexGrow:"1"},l.createElement(o.Rv,{size:"S"})),l.createElement(O,null))))},O=function(){return(0,v.H)().value?null:l.createElement(N.x,{justifySelf:"flex-end"},l.createElement(y.F,{scale:"L"},l.createElement(N.x,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},l.createElement(N.x,{paddingRight:"4px"},"Already a member?"),l.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},M=function(e){var n,i,t=e.user,a=e.redirectExperiment,d=e.postId,o=(0,P.v9)((function(e){return e.config.authDomain})),r=(0,b.pK)(),m=(0,v.H)().value,g=(0,E.Av)();l.useEffect((function(){g.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==t?void 0:t.id,source:r})}),[]);var I=l.useCallback((function(){g.event("entityDrivenSubCallToAction.clicked",{userId:null==m?void 0:m.id,entityId:null==t?void 0:t.id})}),[t,null==m?void 0:m.id,o]);if(!t)return null;var D=null!==(n=t.name)&&void 0!==n?n:"",O=null!==(i=t.imageId)&&void 0!==i?i:C.gG,M=t.id,A=(0,w.AWr)(t,o),B=(0,_.Rk)((0,w.c5p)(o),{subscribeToUserId:M,susiEntry:"entity_driven_subscription_lp"}),L=d?(0,w.o2w)(o,d):A,U=null!=m&&m.mediumMemberAt?A:B;return(0,c.KQ)({},D),l.createElement(l.Fragment,null,l.createElement(b.cW,{source:{name:"entity_driven_subscription",userId:M}},l.createElement(k.G8,{customStyleSheet:t.customStyleSheet},l.createElement(u.f,{customStyleSheet:t.customStyleSheet},l.createElement(N.x,{display:"flex",height:"100vh",flexDirection:"column"},l.createElement(R,null),l.createElement(N.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},l.createElement(f.P,{size:"inset"},l.createElement(N.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},l.createElement(p.s,null,l.createElement(S.z,{miroId:O,alt:D||"",diameter:128,freezeGifs:!1})),l.createElement(p.e,null,l.createElement(S.z,{miroId:O,alt:D||"",diameter:80,freezeGifs:!1}))),l.createElement(N.x,{paddingBottom:"20px"},l.createElement(x.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},l.createElement(s.W,{featureString:T,target:"title-copy"},"Read every story from ",D," (and thousands of other writers on Medium)."))),l.createElement(N.x,{paddingBottom:"20px"},l.createElement(y.F,{scale:"L",color:"DARKER"},l.createElement(s.W,{featureString:T,target:"description-copy"},"Your membership fee directly supports ",D," and other writers you read. You'll also get full access to every story on Medium."))),l.createElement(N.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:a?"column-reverse":void 0,sm:a?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},a&&l.createElement(N.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},l.createElement(h.z,{href:L,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),l.createElement(N.x,null,l.createElement(h.z,{onClick:I,href:U,buttonStyle:"STRONG",size:"LARGE"},l.createElement(s.W,{featureString:T,target:"logged-in-button-copy"},"Become a member")))),!a&&l.createElement(y.F,{scale:"L",color:"DARKER",tag:"span"},l.createElement(F.r,{linkStyle:"SUBTLE",href:A},l.createElement(s.W,{featureString:T,target:"link-copy"},"Visit ",D,"'s profile"))))))))))},A=(0,d.Ps)(D(),I.$m,k.Kc,u.w)},33572:(e,n,i)=>{"use strict";function t(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}function a(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}i.d(n,{J:()=>t,S:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/36851.82b69dcb.chunk.js.map